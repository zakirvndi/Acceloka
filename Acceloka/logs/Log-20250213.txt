2025-02-13 12:09:15 [Information] Now listening on: "http://localhost:5207"
2025-02-13 12:09:16 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 12:09:16 [Information] Hosting environment: "Development"
2025-02-13 12:09:16 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 12:09:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 12:09:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 521.5255ms
2025-02-13 12:09:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 12:09:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 12:09:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 4.8715ms
2025-02-13 12:09:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 112.463ms
2025-02-13 12:09:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 12:09:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 10.9816ms
2025-02-13 12:09:22 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 12:09:22 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 12:09:22 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDTO)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 12:09:22 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 12:09:24 [Information] Executed DbCommand ("65"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 12:09:24 [Error] Error in GetAvailableTickets
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at Acceloka.Services.TicketService.GetAvailableTickets(TicketDTO filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\TicketService.cs:line 57
2025-02-13 12:09:24 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1726.2584ms
2025-02-13 12:09:24 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 12:09:24 [Error] Unhandled exception occurred while processing request.
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at Acceloka.Services.TicketService.GetAvailableTickets(TicketDTO filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\TicketService.cs:line 57
   at Acceloka.Controllers.TicketController.GetAvailableTickets(TicketDTO filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\TicketController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-13 12:09:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 404 null "application/problem+json" 1869.4299ms
2025-02-13 12:09:52 [Information] Now listening on: "http://localhost:5207"
2025-02-13 12:09:52 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 12:09:52 [Information] Hosting environment: "Development"
2025-02-13 12:09:52 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 12:09:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 12:09:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 133.9044ms
2025-02-13 12:09:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 12:09:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.4376ms
2025-02-13 12:09:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 12:09:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 23.1012ms
2025-02-13 12:09:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 12:09:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 4.8509ms
2025-02-13 12:10:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 12:10:00 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 12:10:00 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDTO)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 12:10:00 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 12:10:01 [Information] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 12:10:01 [Error] Error in GetAvailableTickets
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at Acceloka.Services.TicketService.GetAvailableTickets(TicketDTO filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\TicketService.cs:line 57
2025-02-13 12:10:01 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1000.8541ms
2025-02-13 12:10:01 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 12:10:01 [Error] Unhandled exception occurred while processing request.
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at Acceloka.Services.TicketService.GetAvailableTickets(TicketDTO filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\TicketService.cs:line 57
   at Acceloka.Controllers.TicketController.GetAvailableTickets(TicketDTO filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\TicketController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-13 12:10:01 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 404 null "application/problem+json" 1049.8845ms
2025-02-13 12:11:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 12:11:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 5.2428ms
2025-02-13 12:11:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 12:11:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.6309ms
2025-02-13 12:11:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 12:11:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 13.1991ms
2025-02-13 12:11:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 12:11:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 3.8874ms
2025-02-13 12:11:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 12:11:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 2.7126ms
2025-02-13 12:11:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 12:11:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.3457ms
2025-02-13 12:11:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 12:11:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 4.559ms
2025-02-13 12:11:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 12:11:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 3.0695ms
2025-02-13 12:12:08 [Information] Now listening on: "http://localhost:5207"
2025-02-13 12:12:08 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 12:12:08 [Information] Hosting environment: "Development"
2025-02-13 12:12:08 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 12:12:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 12:12:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 311.153ms
2025-02-13 12:12:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 12:12:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 5.1514ms
2025-02-13 12:12:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 12:12:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 40.8075ms
2025-02-13 12:12:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 12:12:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.9723ms
2025-02-13 12:12:12 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 12:12:12 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 12:12:12 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDTO)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 12:12:12 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 12:12:13 [Information] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 12:12:13 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDTO, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 12:12:13 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1316.0705ms
2025-02-13 12:12:13 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 12:12:13 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1359.4321ms
2025-02-13 12:13:47 [Information] Now listening on: "http://localhost:5207"
2025-02-13 12:13:47 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 12:13:47 [Information] Hosting environment: "Development"
2025-02-13 12:13:47 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 12:13:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 12:13:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 120.9128ms
2025-02-13 12:13:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 12:13:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.93ms
2025-02-13 12:13:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 12:13:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 24.8674ms
2025-02-13 12:13:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 12:13:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 4.9776ms
2025-02-13 12:13:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 12:13:52 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 12:13:52 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDTO)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 12:13:52 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 12:13:53 [Information] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 12:13:53 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDTO, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 12:13:53 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 898.8341ms
2025-02-13 12:13:53 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 12:13:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 928.5451ms
2025-02-13 12:18:49 [Information] Now listening on: "http://localhost:5207"
2025-02-13 12:18:49 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 12:18:49 [Information] Hosting environment: "Development"
2025-02-13 12:18:49 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 12:18:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 12:18:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 137.844ms
2025-02-13 12:18:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 12:18:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 12:18:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.158ms
2025-02-13 12:18:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 26.0092ms
2025-02-13 12:18:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 12:18:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.4677ms
2025-02-13 12:18:55 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 12:18:55 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 12:18:55 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDTO)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 12:18:55 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 12:18:56 [Information] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 12:18:56 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDTO, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 12:18:56 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 954.9738ms
2025-02-13 12:18:56 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 12:18:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 989.8865ms
2025-02-13 13:26:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 13:26:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.7607ms
2025-02-13 13:26:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 13:26:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 3.7391ms
2025-02-13 15:02:53 [Information] Now listening on: "http://localhost:5207"
2025-02-13 15:02:53 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 15:02:53 [Information] Hosting environment: "Development"
2025-02-13 15:02:53 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 15:02:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 15:02:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 138.2693ms
2025-02-13 15:02:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 15:02:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.3805ms
2025-02-13 15:02:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 15:02:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 27.3757ms
2025-02-13 15:02:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 15:02:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.3833ms
2025-02-13 15:02:59 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 15:02:59 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:02:59 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:02:59 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 15:03:00 [Information] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:03:00 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:03:00 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1222.8393ms
2025-02-13 15:03:00 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:03:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1267.8953ms
2025-02-13 15:04:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?TicketCode=C001" - null null
2025-02-13 15:04:40 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:04:40 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:04:40 [Information] Executed DbCommand ("12"ms) [Parameters=["@__filter_TicketCode_0_contains='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] LIKE @__filter_TicketCode_0_contains ESCAPE '\'
ORDER BY [t].[TicketCode]"
2025-02-13 15:04:40 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:04:40 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 40.697ms
2025-02-13 15:04:40 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:04:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?TicketCode=C001" - 200 null "application/json; charset=utf-8" 41.9321ms
2025-02-13 15:04:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?Category=Cinema" - null null
2025-02-13 15:04:50 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:04:50 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:04:50 [Information] Executed DbCommand ("4"ms) [Parameters=["@__filter_Category_0_contains='?' (Size = 100) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[Category] LIKE @__filter_Category_0_contains ESCAPE '\'
ORDER BY [t].[TicketCode]"
2025-02-13 15:04:50 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:04:50 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 10.2125ms
2025-02-13 15:04:50 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:04:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?Category=Cinema" - 200 null "application/json; charset=utf-8" 11.0381ms
2025-02-13 15:05:05 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?OrderBy=82" - null null
2025-02-13 15:05:05 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:05:05 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:05:05 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:05:05 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:05:05 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 6.655ms
2025-02-13 15:05:05 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:05:05 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?OrderBy=82" - 200 null "application/json; charset=utf-8" 7.6572ms
2025-02-13 15:05:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?Quota=82" - null null
2025-02-13 15:05:52 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:05:52 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:05:52 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:05:52 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:05:52 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 8.2198ms
2025-02-13 15:05:52 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:05:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?Quota=82" - 200 null "application/json; charset=utf-8" 9.2614ms
2025-02-13 15:06:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?TicketPrice=60000000" - null null
2025-02-13 15:06:15 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:06:15 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:06:15 [Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:06:15 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:06:15 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 17.9533ms
2025-02-13 15:06:15 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:06:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?TicketPrice=60000000" - 200 null "application/json; charset=utf-8" 18.984ms
2025-02-13 15:08:29 [Information] Now listening on: "http://localhost:5207"
2025-02-13 15:08:29 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 15:08:29 [Information] Hosting environment: "Development"
2025-02-13 15:08:29 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 15:08:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 15:08:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 132.9907ms
2025-02-13 15:08:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 15:08:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 15:08:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.1583ms
2025-02-13 15:08:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 25.9942ms
2025-02-13 15:08:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 15:08:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.2646ms
2025-02-13 15:08:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 15:08:41 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:08:41 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:08:41 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 15:08:42 [Information] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:08:42 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:08:42 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1060.2891ms
2025-02-13 15:08:42 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:08:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1104.187ms
2025-02-13 15:09:38 [Information] Now listening on: "http://localhost:5207"
2025-02-13 15:09:38 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 15:09:38 [Information] Hosting environment: "Development"
2025-02-13 15:09:38 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 15:09:39 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 15:09:39 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 125.5365ms
2025-02-13 15:09:39 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 15:09:39 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.5581ms
2025-02-13 15:09:39 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 15:09:39 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 26.0791ms
2025-02-13 15:09:39 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 15:09:39 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 8.8791ms
2025-02-13 15:09:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 15:09:49 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:09:49 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:09:49 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 15:09:50 [Information] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:09:50 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:09:50 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 976.1674ms
2025-02-13 15:09:50 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:09:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1009.6336ms
2025-02-13 15:10:45 [Information] Now listening on: "http://localhost:5207"
2025-02-13 15:10:45 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 15:10:45 [Information] Hosting environment: "Development"
2025-02-13 15:10:45 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 15:10:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 15:10:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 147.7722ms
2025-02-13 15:10:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 15:10:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 15:10:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 4.1423ms
2025-02-13 15:10:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 27.8274ms
2025-02-13 15:10:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 15:10:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 10.9909ms
2025-02-13 15:10:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 15:10:49 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:10:49 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:10:49 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 15:10:50 [Information] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:10:50 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:10:50 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 974.9474ms
2025-02-13 15:10:50 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:10:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1016.7987ms
2025-02-13 15:11:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?TicketPrice=50000000" - null null
2025-02-13 15:11:10 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:11:10 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:11:10 [Information] Executed DbCommand ("21"ms) [Parameters=["@__filter_TicketPrice_Value_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketPrice] <= @__filter_TicketPrice_Value_0
ORDER BY [t].[TicketCode]"
2025-02-13 15:11:10 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:11:10 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 59.1062ms
2025-02-13 15:11:10 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:11:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?TicketPrice=50000000" - 200 null "application/json; charset=utf-8" 60.6649ms
2025-02-13 15:12:01 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?TicketPrice=35000000" - null null
2025-02-13 15:12:01 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:12:01 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:12:01 [Information] Executed DbCommand ("7"ms) [Parameters=["@__filter_TicketPrice_Value_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketPrice] <= @__filter_TicketPrice_Value_0
ORDER BY [t].[TicketCode]"
2025-02-13 15:12:01 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:12:01 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 12.2626ms
2025-02-13 15:12:01 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:12:01 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?TicketPrice=35000000" - 200 null "application/json; charset=utf-8" 13.1448ms
2025-02-13 15:12:05 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?TicketPrice=25000000" - null null
2025-02-13 15:12:05 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:12:05 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:12:05 [Information] Executed DbCommand ("7"ms) [Parameters=["@__filter_TicketPrice_Value_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketPrice] <= @__filter_TicketPrice_Value_0
ORDER BY [t].[TicketCode]"
2025-02-13 15:12:05 [Error] Error in GetAvailableTickets
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at Acceloka.Services.TicketService.GetAvailableTickets(TicketDto filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\TicketService.cs:line 57
2025-02-13 15:12:05 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 41.1183ms
2025-02-13 15:12:05 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:12:05 [Error] Unhandled exception occurred while processing request.
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at Acceloka.Services.TicketService.GetAvailableTickets(TicketDto filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\TicketService.cs:line 57
   at Acceloka.Controllers.TicketController.GetAvailableTickets(TicketDto filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\TicketController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-13 15:12:05 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?TicketPrice=25000000" - 404 null "application/problem+json" 55.9701ms
2025-02-13 15:18:59 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 15:18:59 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:18:59 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:18:59 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:18:59 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:18:59 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 19.6143ms
2025-02-13 15:18:59 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:18:59 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 20.8527ms
2025-02-13 15:19:12 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?OrderBy=eventDate" - null null
2025-02-13 15:19:12 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:19:12 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:19:12 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:19:12 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:19:12 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 15.1277ms
2025-02-13 15:19:12 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:19:12 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?OrderBy=eventDate" - 200 null "application/json; charset=utf-8" 15.8849ms
2025-02-13 15:20:57 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?OrderBy=EventDate" - null null
2025-02-13 15:20:57 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:20:57 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:20:57 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[EventDate]"
2025-02-13 15:20:57 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:20:57 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 17.6039ms
2025-02-13 15:20:57 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:20:57 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?OrderBy=EventDate" - 200 null "application/json; charset=utf-8" 18.2353ms
2025-02-13 15:26:39 [Information] Now listening on: "http://localhost:5207"
2025-02-13 15:26:39 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 15:26:39 [Information] Hosting environment: "Development"
2025-02-13 15:26:39 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 15:26:39 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 15:26:39 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 149.5055ms
2025-02-13 15:26:39 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 15:26:39 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 15:26:39 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.8154ms
2025-02-13 15:26:39 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 28.1065ms
2025-02-13 15:26:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 15:26:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.1451ms
2025-02-13 15:26:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 15:26:44 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:26:44 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:26:44 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 15:26:44 [Information] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:26:45 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:26:45 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 955.963ms
2025-02-13 15:26:45 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:26:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 988.1833ms
2025-02-13 15:29:35 [Information] Now listening on: "http://localhost:5207"
2025-02-13 15:29:35 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 15:29:35 [Information] Hosting environment: "Development"
2025-02-13 15:29:35 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 15:29:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 15:29:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 123.2342ms
2025-02-13 15:29:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 15:29:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 15:29:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 1.8347ms
2025-02-13 15:29:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 23.349ms
2025-02-13 15:29:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 15:29:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.6894ms
2025-02-13 15:29:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 15:29:43 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:29:43 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:29:43 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 15:29:44 [Information] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:29:44 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:29:44 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1036.2719ms
2025-02-13 15:29:44 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:29:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1068.4621ms
2025-02-13 15:32:55 [Information] Now listening on: "http://localhost:5207"
2025-02-13 15:32:56 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 15:32:56 [Information] Hosting environment: "Development"
2025-02-13 15:32:56 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 15:32:56 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 15:32:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 125.9206ms
2025-02-13 15:32:56 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 15:32:56 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 15:32:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.2768ms
2025-02-13 15:32:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 23.1486ms
2025-02-13 15:32:56 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 15:32:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.1771ms
2025-02-13 15:44:37 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 15:44:37 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:44:37 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:44:37 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 15:44:38 [Information] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:44:38 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:44:38 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1278.4451ms
2025-02-13 15:44:38 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:44:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1319.1804ms
2025-02-13 15:47:16 [Information] Now listening on: "http://localhost:5207"
2025-02-13 15:47:16 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 15:47:16 [Information] Hosting environment: "Development"
2025-02-13 15:47:16 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 15:47:16 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 15:47:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 129.0252ms
2025-02-13 15:47:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 15:47:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.5922ms
2025-02-13 15:47:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 15:47:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 23.4442ms
2025-02-13 15:47:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 15:47:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.6234ms
2025-02-13 15:47:20 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 15:47:20 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:47:20 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:47:20 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 15:47:21 [Information] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:47:21 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:47:21 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 938.7801ms
2025-02-13 15:47:21 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:47:21 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 971.8617ms
2025-02-13 15:47:36 [Information] Now listening on: "http://localhost:5207"
2025-02-13 15:47:36 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 15:47:36 [Information] Hosting environment: "Development"
2025-02-13 15:47:36 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 15:47:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 15:47:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 99.473ms
2025-02-13 15:47:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 15:47:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 15:47:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.6613ms
2025-02-13 15:47:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 23.3877ms
2025-02-13 15:47:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 15:47:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.6609ms
2025-02-13 15:47:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 15:47:43 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:47:43 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:47:43 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 15:47:44 [Information] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 15:47:44 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:47:44 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1011.5248ms
2025-02-13 15:47:44 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:47:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1045.4631ms
2025-02-13 15:48:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?MinEventDate=2025-03-01&MaxEventDate=2025-05-20" - null null
2025-02-13 15:48:51 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:48:51 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:48:51 [Information] Executed DbCommand ("19"ms) [Parameters=["@__filter_MinEventDate_Value_0='?' (DbType = DateTimeOffset), @__filter_MaxEventDate_Value_1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[EventDate] >= @__filter_MinEventDate_Value_0 AND [t].[EventDate] <= @__filter_MaxEventDate_Value_1
ORDER BY [t].[TicketCode]"
2025-02-13 15:48:51 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:48:51 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 51.546ms
2025-02-13 15:48:51 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:48:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?MinEventDate=2025-03-01&MaxEventDate=2025-05-20" - 200 null "application/json; charset=utf-8" 52.9042ms
2025-02-13 15:49:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?MinEventDate=2025-03-01&MaxEventDate=2025-05-20&OrderBy=EventDate" - null null
2025-02-13 15:49:00 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:49:00 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 15:49:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__filter_MinEventDate_Value_0='?' (DbType = DateTimeOffset), @__filter_MaxEventDate_Value_1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[EventDate] >= @__filter_MinEventDate_Value_0 AND [t].[EventDate] <= @__filter_MaxEventDate_Value_1
ORDER BY [t].[EventDate]"
2025-02-13 15:49:00 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 15:49:00 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 16.8521ms
2025-02-13 15:49:00 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 15:49:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?MinEventDate=2025-03-01&MaxEventDate=2025-05-20&OrderBy=EventDate" - 200 null "application/json; charset=utf-8" 18.5734ms
2025-02-13 17:22:07 [Information] Now listening on: "http://localhost:5207"
2025-02-13 17:22:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 17:22:07 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 17:22:07 [Information] Hosting environment: "Development"
2025-02-13 17:22:07 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 17:22:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 157.5066ms
2025-02-13 17:22:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 17:22:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.3494ms
2025-02-13 17:22:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 17:22:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 27.5205ms
2025-02-13 17:22:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 17:22:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.9261ms
2025-02-13 17:22:16 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 17:22:16 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.6122ms
2025-02-13 17:22:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 17:22:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 4.1039ms
2025-02-13 17:22:48 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 17:22:48 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:22:48 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 17:22:48 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 2.543ms
2025-02-13 17:22:48 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:22:48 [Error] Unhandled exception occurred while processing request.
System.InvalidOperationException: Unable to resolve service for type 'Acceloka.Services.BookService' while attempting to activate 'Acceloka.Controllers.BookController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-13 17:22:48 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 72.2431ms
2025-02-13 17:23:41 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 17:23:41 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:23:41 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 17:23:41 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 0.2297ms
2025-02-13 17:23:41 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:23:41 [Error] Unhandled exception occurred while processing request.
System.InvalidOperationException: Unable to resolve service for type 'Acceloka.Services.BookService' while attempting to activate 'Acceloka.Controllers.BookController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-13 17:23:41 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 3.6561ms
2025-02-13 17:23:41 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 17:23:41 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:23:41 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 17:23:41 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 0.2319ms
2025-02-13 17:23:41 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:23:41 [Error] Unhandled exception occurred while processing request.
System.InvalidOperationException: Unable to resolve service for type 'Acceloka.Services.BookService' while attempting to activate 'Acceloka.Controllers.BookController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-13 17:23:41 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 2.0161ms
2025-02-13 17:23:48 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 17:23:48 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:23:48 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 17:23:48 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 0.2722ms
2025-02-13 17:23:48 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:23:48 [Error] Unhandled exception occurred while processing request.
System.InvalidOperationException: Unable to resolve service for type 'Acceloka.Services.BookService' while attempting to activate 'Acceloka.Controllers.BookController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-13 17:23:48 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 2.164ms
2025-02-13 17:25:06 [Information] Now listening on: "http://localhost:5207"
2025-02-13 17:25:06 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 17:25:06 [Information] Hosting environment: "Development"
2025-02-13 17:25:06 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 17:25:06 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 17:25:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 116.0276ms
2025-02-13 17:25:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 17:25:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.1865ms
2025-02-13 17:25:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 17:25:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 26.9004ms
2025-02-13 17:25:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 17:25:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.2432ms
2025-02-13 17:25:18 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 17:25:18 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:25:18 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 17:25:18 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 17:25:19 [Information] Executed DbCommand ("36"ms) [Parameters=["@__ticketDto_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketDto_TicketCode_0"
2025-02-13 17:25:20 [Information] Executed DbCommand ("15"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);
UPDATE [Ticket] SET [Quota] = @p3
OUTPUT 1
WHERE [TicketCode] = @p4;"
2025-02-13 17:25:20 [Information] Executed DbCommand ("5"ms) [Parameters=["@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p5, @p6, @p7);"
2025-02-13 17:25:20 [Error] An error occurred using a transaction.
2025-02-13 17:25:20 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1252.9511ms
2025-02-13 17:25:20 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:25:20 [Error] Unhandled exception occurred while processing request.
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 66
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-13 17:25:20 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 1312.8979ms
2025-02-13 17:25:39 [Information] Now listening on: "http://localhost:5207"
2025-02-13 17:25:39 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 17:25:39 [Information] Hosting environment: "Development"
2025-02-13 17:25:39 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 17:25:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 17:25:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 374.3125ms
2025-02-13 17:25:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 17:25:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 17:25:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.0503ms
2025-02-13 17:25:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 32.8354ms
2025-02-13 17:25:42 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 17:25:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 14.015ms
2025-02-13 17:26:18 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 17:26:18 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:26:18 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 17:26:18 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 17:26:20 [Information] Executed DbCommand ("55"ms) [Parameters=["@__ticketDto_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketDto_TicketCode_0"
2025-02-13 17:26:20 [Information] Executed DbCommand ("12"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);
UPDATE [Ticket] SET [Quota] = @p3
OUTPUT 1
WHERE [TicketCode] = @p4;"
2025-02-13 17:26:20 [Information] Executed DbCommand ("5"ms) [Parameters=["@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p5, @p6, @p7);"
2025-02-13 17:26:20 [Error] An error occurred using a transaction.
2025-02-13 17:26:20 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1944.3972ms
2025-02-13 17:26:20 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 17:26:20 [Error] Unhandled exception occurred while processing request.
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 66
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-13 17:26:20 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 2121.2186ms
2025-02-13 18:21:47 [Information] Now listening on: "http://localhost:5207"
2025-02-13 18:21:47 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 18:21:47 [Information] Hosting environment: "Development"
2025-02-13 18:21:47 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 18:21:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 18:21:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 147.3937ms
2025-02-13 18:21:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 18:21:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.481ms
2025-02-13 18:21:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 18:21:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 25.3314ms
2025-02-13 18:21:48 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 18:21:48 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 8.8587ms
2025-02-13 18:22:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 18:22:00 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 18:22:00 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 18:22:00 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 18:22:01 [Information] Executed DbCommand ("40"ms) [Parameters=["@__ticketDto_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketDto_TicketCode_0"
2025-02-13 18:22:01 [Information] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);
UPDATE [Ticket] SET [Quota] = @p3
OUTPUT 1
WHERE [TicketCode] = @p4;"
2025-02-13 18:22:01 [Information] Executed DbCommand ("3"ms) [Parameters=["@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p5, @p6, @p7);"
2025-02-13 18:22:01 [Error] An error occurred using a transaction.
2025-02-13 18:22:01 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1376.4388ms
2025-02-13 18:22:01 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 18:22:01 [Error] Exception occurred: This SqlTransaction has completed; it is no longer usable.
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 76
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 22
2025-02-13 18:22:01 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 1462.8077ms
2025-02-13 18:23:24 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 109
2025-02-13 18:23:24 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 18:23:24 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 18:23:24 [Information] Executed DbCommand ("13"ms) [Parameters=["@__ticketDto_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketDto_TicketCode_0"
2025-02-13 18:23:24 [Information] Executed DbCommand ("1"ms) [Parameters=["@__ticketDto_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketDto_TicketCode_0"
2025-02-13 18:23:24 [Information] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Int32), @p6='?' (Size = 20) (DbType = AnsiString), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);
UPDATE [Ticket] SET [Quota] = @p3
OUTPUT 1
WHERE [TicketCode] = @p4;
UPDATE [Ticket] SET [Quota] = @p5
OUTPUT 1
WHERE [TicketCode] = @p6;"
2025-02-13 18:23:24 [Information] Executed DbCommand ("24"ms) [Parameters=["@p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 20) (DbType = AnsiString), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [BookedTicket] USING (
VALUES (@p7, @p8, @p9, 0),
(@p10, @p11, @p12, 1)) AS i ([BookId], [Quantity], [TicketCode], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookId], [Quantity], [TicketCode])
VALUES (i.[BookId], i.[Quantity], i.[TicketCode])
OUTPUT INSERTED.[BookedTicketId], i._Position;"
2025-02-13 18:23:24 [Error] An error occurred using a transaction.
2025-02-13 18:23:24 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 64.3358ms
2025-02-13 18:23:24 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 18:23:24 [Error] Exception occurred: This SqlTransaction has completed; it is no longer usable.
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 76
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 22
2025-02-13 18:23:24 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 68.6902ms
2025-02-13 18:48:24 [Information] Now listening on: "http://localhost:5207"
2025-02-13 18:48:24 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 18:48:24 [Information] Hosting environment: "Development"
2025-02-13 18:48:24 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 18:48:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 18:48:25 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 147.9729ms
2025-02-13 18:48:25 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 18:48:25 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.5725ms
2025-02-13 18:48:25 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 18:48:25 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 22.9769ms
2025-02-13 18:48:25 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 18:48:25 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 8.389ms
2025-02-13 18:48:36 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 18:48:36 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 18:48:36 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 18:48:36 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 18:48:36 [Information] Request Booking: [BookedTicketDto { TicketCode: "C001", Quantity: 1 }]
2025-02-13 18:48:37 [Information] Executed DbCommand ("41"ms) [Parameters=["@__ticketDto_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketDto_TicketCode_0"
2025-02-13 18:48:37 [Information] Mengurangi quota tiket: "C001", Jumlah: 1, Sisa sebelum dikurangi: 92
2025-02-13 18:48:37 [Information] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);
UPDATE [Ticket] SET [Quota] = @p3
OUTPUT 1
WHERE [TicketCode] = @p4;"
2025-02-13 18:48:37 [Information] Executed DbCommand ("4"ms) [Parameters=["@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p5, @p6, @p7);"
2025-02-13 18:48:37 [Information] Booking berhasil dengan ID 5 dan Total Price 50000000.00
2025-02-13 18:48:37 [Error] An error occurred using a transaction.
2025-02-13 18:48:37 [Error] Error di BookController saat create booking.
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 82
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 18:48:37 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 18:48:37 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1357.1569ms
2025-02-13 18:48:37 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 18:48:37 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 1389.6881ms
2025-02-13 18:53:06 [Information] Now listening on: "http://localhost:5207"
2025-02-13 18:53:06 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 18:53:06 [Information] Hosting environment: "Development"
2025-02-13 18:53:06 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 18:53:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 18:53:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 135.117ms
2025-02-13 18:53:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 18:53:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.2654ms
2025-02-13 18:53:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 18:53:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 19.7267ms
2025-02-13 18:53:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 18:53:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.3841ms
2025-02-13 18:53:34 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 18:53:34 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 18:53:34 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 18:53:34 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 18:53:34 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 2 }]
2025-02-13 18:53:35 [Information] Executed DbCommand ("39"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 18:53:35 [Information] Mengurangi quota tiket: "C002", Jumlah: 2, Sisa sebelum dikurangi: 118
2025-02-13 18:53:35 [Information] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-13 18:53:35 [Information] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 18:53:35 [Information] Executed DbCommand ("6"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-13 18:53:35 [Information] Booking berhasil dengan ID 6 dan Total Price 0
2025-02-13 18:53:35 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Book -> BookDto
Acceloka.Entities.Book -> Acceloka.Models.DTOS.BookDto

Type Map configuration:
Book -> BookDto
Acceloka.Entities.Book -> Acceloka.Models.DTOS.BookDto

Destination Member:
Tickets

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
BookedTicket -> BookedTicketDto
Acceloka.Entities.BookedTicket -> Acceloka.Models.DTOS.BookedTicketDto
   at lambda_method209(Closure, BookedTicket, BookedTicketDto, ResolutionContext)
   at lambda_method208(Closure, Object, BookDto, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method208(Closure, Object, BookDto, ResolutionContext)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 87
2025-02-13 18:53:35 [Error] Error di BookController saat create booking.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Book -> BookDto
Acceloka.Entities.Book -> Acceloka.Models.DTOS.BookDto

Type Map configuration:
Book -> BookDto
Acceloka.Entities.Book -> Acceloka.Models.DTOS.BookDto

Destination Member:
Tickets

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
BookedTicket -> BookedTicketDto
Acceloka.Entities.BookedTicket -> Acceloka.Models.DTOS.BookedTicketDto
   at lambda_method209(Closure, BookedTicket, BookedTicketDto, ResolutionContext)
   at lambda_method208(Closure, Object, BookDto, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method208(Closure, Object, BookDto, ResolutionContext)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 87
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 18:53:35 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 18:53:35 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1200.5782ms
2025-02-13 18:53:35 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 18:53:35 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 1233.2024ms
2025-02-13 19:18:56 [Information] Now listening on: "http://localhost:5207"
2025-02-13 19:18:56 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 19:18:56 [Information] Hosting environment: "Development"
2025-02-13 19:18:56 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 19:18:57 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 19:18:57 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 109.3478ms
2025-02-13 19:18:57 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 19:18:57 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.0073ms
2025-02-13 19:18:57 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 19:18:57 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 23.8088ms
2025-02-13 19:18:57 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 19:18:57 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.6531ms
2025-02-13 19:19:09 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 19:19:09 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 19:19:09 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 19:19:09 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 19:19:09 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 1 }]
2025-02-13 19:19:10 [Information] Executed DbCommand ("40"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 19:19:10 [Information] Mengurangi quota tiket: "C002", Jumlah: 1, Sisa sebelum dikurangi: 116
2025-02-13 19:19:10 [Information] Executed DbCommand ("8"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-13 19:19:10 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 19:19:10 [Information] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-13 19:19:10 [Information] Booking berhasil dengan ID 7 dan Total Price 0
2025-02-13 19:19:10 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 19:19:10 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1320.6478ms
2025-02-13 19:19:10 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 19:19:10 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 1357.1018ms
2025-02-13 19:19:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 19:19:30 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 19:19:30 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 19:19:30 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 19:19:30 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 19:19:30 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 32.7634ms
2025-02-13 19:19:30 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 19:19:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 42.4712ms
2025-02-13 19:20:18 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 108
2025-02-13 19:20:18 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 19:20:18 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 19:20:18 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 3 }, BookedTicketDto { TicketCode: "C003", Quantity: 1 }]
2025-02-13 19:20:18 [Information] Executed DbCommand ("15"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 19:20:18 [Information] Mengurangi quota tiket: "C002", Jumlah: 3, Sisa sebelum dikurangi: 115
2025-02-13 19:20:18 [Information] Mengurangi quota tiket: "C003", Jumlah: 1, Sisa sebelum dikurangi: 80
2025-02-13 19:20:18 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-13 19:20:18 [Information] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 19:20:18 [Information] Executed DbCommand ("6"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [BookedTicket] USING (
VALUES (@p3, @p4, @p5, 0),
(@p6, @p7, @p8, 1)) AS i ([BookId], [Quantity], [TicketCode], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookId], [Quantity], [TicketCode])
VALUES (i.[BookId], i.[Quantity], i.[TicketCode])
OUTPUT INSERTED.[BookedTicketId], i._Position;"
2025-02-13 19:20:18 [Information] Booking berhasil dengan ID 8 dan Total Price 0
2025-02-13 19:20:18 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 19:20:18 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 44.1666ms
2025-02-13 19:20:18 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 19:20:18 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 45.503ms
2025-02-13 19:20:28 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 19:20:28 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 19:20:28 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 19:20:28 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 19:20:28 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 19:20:28 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 4.4205ms
2025-02-13 19:20:28 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 19:20:28 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 5.2102ms
2025-02-13 19:21:35 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 121
2025-02-13 19:21:35 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 19:21:35 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 19:21:35 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-02-13 19:21:35 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 27.2455ms
2025-02-13 19:21:35 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 19:21:35 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 400 null "application/problem+json; charset=utf-8" 28.2165ms
2025-02-13 19:22:35 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 108
2025-02-13 19:22:35 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 19:22:35 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 19:22:35 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 3 }, BookedTicketDto { TicketCode: "C003", Quantity: 1 }]
2025-02-13 19:22:35 [Information] Executed DbCommand ("12"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 19:22:35 [Information] Mengurangi quota tiket: "C002", Jumlah: 3, Sisa sebelum dikurangi: 112
2025-02-13 19:22:35 [Information] Mengurangi quota tiket: "C003", Jumlah: 1, Sisa sebelum dikurangi: 79
2025-02-13 19:22:35 [Information] Executed DbCommand ("11"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-13 19:22:35 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 19:22:35 [Information] Executed DbCommand ("7"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [BookedTicket] USING (
VALUES (@p3, @p4, @p5, 0),
(@p6, @p7, @p8, 1)) AS i ([BookId], [Quantity], [TicketCode], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookId], [Quantity], [TicketCode])
VALUES (i.[BookId], i.[Quantity], i.[TicketCode])
OUTPUT INSERTED.[BookedTicketId], i._Position;"
2025-02-13 19:22:35 [Information] Booking berhasil dengan ID 9 dan Total Price 0
2025-02-13 19:22:35 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 19:22:35 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 39.4993ms
2025-02-13 19:22:35 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 19:22:35 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 40.3832ms
2025-02-13 20:44:54 [Information] Now listening on: "http://localhost:5207"
2025-02-13 20:44:54 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 20:44:54 [Information] Hosting environment: "Development"
2025-02-13 20:44:54 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 20:44:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 20:44:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 129.3206ms
2025-02-13 20:44:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 20:44:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.0445ms
2025-02-13 20:44:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 20:44:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 25.8608ms
2025-02-13 20:44:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 20:44:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 9.668ms
2025-02-13 20:45:04 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 20:45:04 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 20:45:04 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 20:45:04 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 20:45:04 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 3 }]
2025-02-13 20:45:05 [Information] Executed DbCommand ("33"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 20:45:05 [Information] Mengurangi quota tiket: "C002", Jumlah: 3, Sisa sebelum dikurangi: 109
2025-02-13 20:45:05 [Information] Executed DbCommand ("8"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-13 20:45:06 [Information] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 20:45:06 [Information] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-13 20:45:06 [Information] Booking berhasil dengan ID 10 dan Total Price 0
2025-02-13 20:45:06 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 20:45:06 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1307.1888ms
2025-02-13 20:45:06 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 20:45:06 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 1341.0227ms
2025-02-13 21:01:50 [Information] Now listening on: "http://localhost:5207"
2025-02-13 21:01:50 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 21:01:50 [Information] Hosting environment: "Development"
2025-02-13 21:01:50 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 21:01:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 21:01:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 241.9536ms
2025-02-13 21:01:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 21:01:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 21:01:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.9122ms
2025-02-13 21:01:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 40.7597ms
2025-02-13 21:01:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 21:01:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 11.0559ms
2025-02-13 21:02:03 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 21:02:03 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:02:03 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 21:02:03 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 21:02:03 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 2 }]
2025-02-13 21:02:04 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.InvalidOperationException: The expression 't.Category' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 38
2025-02-13 21:02:04 [Error] Error di BookController saat create booking.
System.InvalidOperationException: The expression 't.Category' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 38
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 21:02:04 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 21:02:04 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1160.2261ms
2025-02-13 21:02:04 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:02:04 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 1218.214ms
2025-02-13 21:02:32 [Information] Now listening on: "http://localhost:5207"
2025-02-13 21:02:32 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 21:02:32 [Information] Hosting environment: "Development"
2025-02-13 21:02:32 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 21:02:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 21:02:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 149.5039ms
2025-02-13 21:02:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 21:02:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 5.2422ms
2025-02-13 21:02:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 21:02:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 32.5708ms
2025-02-13 21:02:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 21:02:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.1667ms
2025-02-13 21:02:42 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 21:02:42 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:02:42 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 21:02:42 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 21:02:42 [Information] Request Booking: [BookedTicketDto { TicketCode: "C001", Quantity: 2 }]
2025-02-13 21:02:42 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.InvalidOperationException: The expression 't.Category' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 38
2025-02-13 21:02:42 [Error] Error di BookController saat create booking.
System.InvalidOperationException: The expression 't.Category' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 38
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 21:02:42 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 21:02:42 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 728.5454ms
2025-02-13 21:02:42 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:02:42 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 766.6469ms
2025-02-13 21:02:57 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - null null
2025-02-13 21:02:57 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 21:02:57 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 21:02:58 [Information] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 21:02:58 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 21:02:58 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 482.3917ms
2025-02-13 21:02:58 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 21:02:58 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""" - 200 null "application/json; charset=utf-8" 493.9843ms
2025-02-13 21:03:36 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 21:03:36 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:03:36 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 21:03:36 [Information] Request Booking: [BookedTicketDto { TicketCode: "C003", Quantity: 2 }]
2025-02-13 21:03:36 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.InvalidOperationException: The expression 't.Category' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 38
2025-02-13 21:03:36 [Error] Error di BookController saat create booking.
System.InvalidOperationException: The expression 't.Category' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 38
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 21:03:36 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 21:03:36 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 5.9502ms
2025-02-13 21:03:36 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:03:36 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 7.0089ms
2025-02-13 21:07:58 [Information] Now listening on: "http://localhost:5207"
2025-02-13 21:07:59 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 21:07:59 [Information] Hosting environment: "Development"
2025-02-13 21:07:59 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 21:07:59 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 21:07:59 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 112.0888ms
2025-02-13 21:07:59 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 21:07:59 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 21:07:59 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.8779ms
2025-02-13 21:07:59 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 39.7105ms
2025-02-13 21:07:59 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 21:07:59 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.7682ms
2025-02-13 21:08:25 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 110
2025-02-13 21:08:25 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:08:25 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 21:08:25 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 21:08:25 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-02-13 21:08:25 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 154.5313ms
2025-02-13 21:08:25 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:08:25 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 400 null "application/problem+json; charset=utf-8" 185.1344ms
2025-02-13 21:09:49 [Information] Now listening on: "http://localhost:5207"
2025-02-13 21:09:49 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 21:09:49 [Information] Hosting environment: "Development"
2025-02-13 21:09:49 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 21:09:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 21:09:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 184.5807ms
2025-02-13 21:09:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 21:09:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 4.5351ms
2025-02-13 21:09:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 21:09:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 26.4233ms
2025-02-13 21:09:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 21:09:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 8.8924ms
2025-02-13 21:10:03 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 21:10:03 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:10:03 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 21:10:03 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 21:10:03 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 3 }]
2025-02-13 21:10:04 [Information] Executed DbCommand ("34"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 21:10:04 [Information] Mengurangi quota tiket: "C002", Jumlah: 3, Sisa sebelum dikurangi: 106
2025-02-13 21:10:04 [Information] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-13 21:10:04 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 21:10:04 [Information] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-13 21:10:04 [Information] Booking berhasil dengan ID 11 dan Total Price 0
2025-02-13 21:10:04 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 21:10:04 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1251.7186ms
2025-02-13 21:10:04 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:10:04 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 1287.2823ms
2025-02-13 21:10:43 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 108
2025-02-13 21:10:43 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:10:43 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 21:10:43 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 3 }, BookedTicketDto { TicketCode: "H001", Quantity: 2 }]
2025-02-13 21:10:43 [Information] Executed DbCommand ("11"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 21:10:43 [Information] Mengurangi quota tiket: "C002", Jumlah: 3, Sisa sebelum dikurangi: 103
2025-02-13 21:10:43 [Information] Mengurangi quota tiket: "H001", Jumlah: 2, Sisa sebelum dikurangi: 76
2025-02-13 21:10:43 [Information] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-13 21:10:43 [Information] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 21:10:43 [Information] Executed DbCommand ("5"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [BookedTicket] USING (
VALUES (@p3, @p4, @p5, 0),
(@p6, @p7, @p8, 1)) AS i ([BookId], [Quantity], [TicketCode], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookId], [Quantity], [TicketCode])
VALUES (i.[BookId], i.[Quantity], i.[TicketCode])
OUTPUT INSERTED.[BookedTicketId], i._Position;"
2025-02-13 21:10:43 [Information] Booking berhasil dengan ID 12 dan Total Price 0
2025-02-13 21:10:43 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 21:10:43 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 40.6078ms
2025-02-13 21:10:43 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:10:43 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 42.7397ms
2025-02-13 21:49:27 [Information] Now listening on: "http://localhost:5207"
2025-02-13 21:49:27 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 21:49:27 [Information] Hosting environment: "Development"
2025-02-13 21:49:27 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 21:49:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 21:49:27 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 114.5035ms
2025-02-13 21:49:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 21:49:27 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.1313ms
2025-02-13 21:49:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 21:49:28 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 21.1981ms
2025-02-13 21:49:28 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 21:49:28 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.0868ms
2025-02-13 21:49:58 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 21:49:58 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:49:58 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 21:49:58 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 21:49:58 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 1 }]
2025-02-13 21:49:59 [Information] Executed DbCommand ("36"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 21:49:59 [Information] Mengurangi quota tiket: "C002", Jumlah: 1, Sisa sebelum dikurangi: 100
2025-02-13 21:49:59 [Information] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-13 21:49:59 [Information] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 21:49:59 [Information] Executed DbCommand ("5"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-13 21:49:59 [Information] Booking berhasil dengan ID 13 dan Total Price 60000000.00
2025-02-13 21:49:59 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.InvalidOperationException: The expression 't.Category' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 87
2025-02-13 21:49:59 [Error] Error di BookController saat create booking.
System.InvalidOperationException: The expression 't.Category' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 87
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 21:49:59 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 21:49:59 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1446.2957ms
2025-02-13 21:49:59 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:49:59 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 1488.3575ms
2025-02-13 21:52:06 [Information] Now listening on: "http://localhost:5207"
2025-02-13 21:52:06 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 21:52:06 [Information] Hosting environment: "Development"
2025-02-13 21:52:06 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 21:52:06 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 21:52:06 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 107.2187ms
2025-02-13 21:52:06 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 21:52:06 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 21:52:06 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.1428ms
2025-02-13 21:52:06 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 22.7013ms
2025-02-13 21:52:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 21:52:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.1525ms
2025-02-13 21:52:11 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 21:52:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 4.221ms
2025-02-13 21:52:11 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 21:52:11 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 21:52:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.5992ms
2025-02-13 21:52:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 12.1136ms
2025-02-13 21:52:11 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 21:52:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 2.2839ms
2025-02-13 21:52:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 21:52:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1.9736ms
2025-02-13 21:52:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 21:52:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 21:52:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.4309ms
2025-02-13 21:52:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 4.5225ms
2025-02-13 21:52:18 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 21:52:18 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 3.6446ms
2025-02-13 21:52:31 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 21:52:31 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:52:31 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 21:52:31 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 21:52:31 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 1 }]
2025-02-13 21:52:32 [Information] Executed DbCommand ("34"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 21:52:32 [Information] Mengurangi quota tiket: "C002", Jumlah: 1, Sisa sebelum dikurangi: 99
2025-02-13 21:52:32 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-13 21:52:33 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 21:52:33 [Information] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-13 21:52:33 [Information] Booking berhasil dengan ID 14 dan Total Price 0
2025-02-13 21:52:33 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 21:52:33 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1323.821ms
2025-02-13 21:52:33 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:52:33 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 1358.2204ms
2025-02-13 21:56:32 [Information] Now listening on: "http://localhost:5207"
2025-02-13 21:56:32 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 21:56:32 [Information] Hosting environment: "Development"
2025-02-13 21:56:32 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 21:56:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 21:56:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 208.676ms
2025-02-13 21:56:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 21:56:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 21:56:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.7667ms
2025-02-13 21:56:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 40.2436ms
2025-02-13 21:56:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 21:56:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 10.4614ms
2025-02-13 21:56:43 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 21:56:43 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:56:43 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 21:56:43 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 21:56:43 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 1 }]
2025-02-13 21:56:44 [Information] Executed DbCommand ("55"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 21:56:45 [Information] Mengurangi quota tiket: "C002", Jumlah: 1, Sisa sebelum dikurangi: 98
2025-02-13 21:56:45 [Information] Executed DbCommand ("9"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-13 21:56:45 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 21:56:45 [Information] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-13 21:56:45 [Information] Booking berhasil dengan ID 15 dan Total Price 60000000.00
2025-02-13 21:56:45 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketResponseDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 21:56:45 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1900.1507ms
2025-02-13 21:56:45 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:56:45 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 1954.5703ms
2025-02-13 21:58:52 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 163
2025-02-13 21:58:52 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:58:52 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 21:58:52 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 1 }, BookedTicketDto { TicketCode: "TD003", Quantity: 1 }, BookedTicketDto { TicketCode: "TD001", Quantity: 1 }]
2025-02-13 21:58:52 [Information] Executed DbCommand ("14"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 21:58:52 [Information] Mengurangi quota tiket: "C002", Jumlah: 1, Sisa sebelum dikurangi: 97
2025-02-13 21:58:52 [Information] Mengurangi quota tiket: "TD003", Jumlah: 1, Sisa sebelum dikurangi: 100
2025-02-13 21:58:52 [Information] Mengurangi quota tiket: "TD001", Jumlah: 1, Sisa sebelum dikurangi: 80
2025-02-13 21:58:52 [Information] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;
UPDATE [Ticket] SET [Quota] = @p4
OUTPUT 1
WHERE [TicketCode] = @p5;"
2025-02-13 21:58:52 [Information] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 21:58:52 [Information] Executed DbCommand ("6"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [BookedTicket] USING (
VALUES (@p3, @p4, @p5, 0),
(@p6, @p7, @p8, 1),
(@p9, @p10, @p11, 2)) AS i ([BookId], [Quantity], [TicketCode], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookId], [Quantity], [TicketCode])
VALUES (i.[BookId], i.[Quantity], i.[TicketCode])
OUTPUT INSERTED.[BookedTicketId], i._Position;"
2025-02-13 21:58:52 [Information] Booking berhasil dengan ID 16 dan Total Price 150000000.00
2025-02-13 21:58:52 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketResponseDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 21:58:52 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 49.2862ms
2025-02-13 21:58:52 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 21:58:52 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 56.4377ms
2025-02-13 22:03:13 [Information] Now listening on: "http://localhost:5207"
2025-02-13 22:03:13 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 22:03:13 [Information] Hosting environment: "Development"
2025-02-13 22:03:13 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 22:03:13 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 22:03:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 123.0806ms
2025-02-13 22:03:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 22:03:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.1269ms
2025-02-13 22:03:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 22:03:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 24.5756ms
2025-02-13 22:03:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 22:03:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.3464ms
2025-02-13 22:03:18 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 22:03:18 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:03:18 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 22:03:18 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 22:03:18 [Information] Request Booking: [BookedTicketDto { TicketCode: "string", Quantity: 0 }]
2025-02-13 22:03:19 [Information] Executed DbCommand ("30"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 22:03:19 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.ArgumentException: Tiket dengan kode string tidak valid.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 43
2025-02-13 22:03:19 [Error] Error di BookController saat create booking.
System.ArgumentException: Tiket dengan kode string tidak valid.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 43
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 22:03:19 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 22:03:19 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1018.3741ms
2025-02-13 22:03:19 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:03:19 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 1048.0271ms
2025-02-13 22:03:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?Category=sadasdsa" - null null
2025-02-13 22:03:53 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 22:03:53 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 22:03:53 [Information] Executed DbCommand ("5"ms) [Parameters=["@__filter_Category_0_contains='?' (Size = 100) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[Category] LIKE @__filter_Category_0_contains ESCAPE '\'
ORDER BY [t].[TicketCode]"
2025-02-13 22:03:53 [Error] Error in GetAvailableTickets
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at Acceloka.Services.TicketService.GetAvailableTickets(TicketDto filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\TicketService.cs:line 57
2025-02-13 22:03:53 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 34.9654ms
2025-02-13 22:03:53 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 22:03:53 [Error] Exception occurred: No tickets found matching the criteria.
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at Acceloka.Services.TicketService.GetAvailableTickets(TicketDto filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\TicketService.cs:line 57
   at Acceloka.Controllers.TicketController.GetAvailableTickets(TicketDto filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\TicketController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 22
2025-02-13 22:03:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/Ticket/get-available-ticket""?Category=sadasdsa" - 404 null "application/problem+json" 60.7175ms
2025-02-13 22:07:41 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 51
2025-02-13 22:07:41 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:07:41 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 22:07:41 [Information] Request Booking: [BookedTicketDto { TicketCode: "", Quantity: 0 }]
2025-02-13 22:07:41 [Information] Executed DbCommand ("5"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 22:07:41 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.ArgumentException: Tiket dengan kode  tidak valid.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 43
2025-02-13 22:07:41 [Error] Error di BookController saat create booking.
System.ArgumentException: Tiket dengan kode  tidak valid.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 43
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 22:07:41 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 22:07:41 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 16.5696ms
2025-02-13 22:07:41 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:07:41 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 20.6732ms
2025-02-13 22:09:25 [Information] Now listening on: "http://localhost:5207"
2025-02-13 22:09:26 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 22:09:26 [Information] Hosting environment: "Development"
2025-02-13 22:09:26 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 22:09:26 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 22:09:26 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 127.1872ms
2025-02-13 22:09:26 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 22:09:26 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 1.847ms
2025-02-13 22:09:26 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 22:09:26 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 22.128ms
2025-02-13 22:09:26 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 22:09:26 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.1025ms
2025-02-13 22:09:37 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 22:09:37 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:09:37 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 22:09:37 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 22:09:37 [Information] Request Booking: [BookedTicketDto { TicketCode: "C002", Quantity: 1 }]
2025-02-13 22:09:38 [Information] Executed DbCommand ("28"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 22:09:38 [Information] Mengurangi quota tiket: "C002", Jumlah: 1, Sisa sebelum dikurangi: 96
2025-02-13 22:09:38 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-13 22:09:38 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 22:09:38 [Information] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-13 22:09:38 [Information] Booking berhasil dengan ID 17 dan Total Price 60000000.00
2025-02-13 22:09:38 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketResponseDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 22:09:38 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1301.0491ms
2025-02-13 22:09:38 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:09:38 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 1335.7204ms
2025-02-13 22:10:29 [Information] Now listening on: "http://localhost:5207"
2025-02-13 22:10:29 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 22:10:29 [Information] Hosting environment: "Development"
2025-02-13 22:10:29 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 22:10:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 22:10:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 233.6921ms
2025-02-13 22:10:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 22:10:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 22:10:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.7782ms
2025-02-13 22:10:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 32.1572ms
2025-02-13 22:10:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 22:10:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 11.8823ms
2025-02-13 22:10:39 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 22:10:39 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:10:39 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 22:10:39 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 22:10:39 [Information] Request Booking: [BookedTicketDto { TicketCode: "c002", Quantity: 1 }]
2025-02-13 22:10:41 [Information] Executed DbCommand ("48"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 22:10:41 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.Exception: Tiket dengan kode c002 tidak tersedia atau stok tidak mencukupi.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 47
2025-02-13 22:10:41 [Error] Error di BookController saat create booking.
System.Exception: Tiket dengan kode c002 tidak tersedia atau stok tidak mencukupi.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 47
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 22:10:41 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 22:10:41 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1540.3023ms
2025-02-13 22:10:41 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:10:41 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 1583.681ms
2025-02-13 22:11:27 [Information] Now listening on: "http://localhost:5207"
2025-02-13 22:11:27 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 22:11:27 [Information] Hosting environment: "Development"
2025-02-13 22:11:27 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 22:11:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 22:11:27 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 125.7169ms
2025-02-13 22:11:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 22:11:27 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 4.5049ms
2025-02-13 22:11:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 22:11:28 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 23.7436ms
2025-02-13 22:11:28 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 22:11:28 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.8526ms
2025-02-13 22:11:33 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 22:11:33 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:11:33 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 22:11:33 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 22:11:33 [Information] Request Booking: [BookedTicketDto { TicketCode: "string", Quantity: 0 }]
2025-02-13 22:11:34 [Information] Executed DbCommand ("25"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 22:11:34 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.ArgumentException: Tiket dengan kode string tidak valid.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 41
2025-02-13 22:11:34 [Error] Error di BookController saat create booking.
System.ArgumentException: Tiket dengan kode string tidak valid.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 41
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 22:11:34 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 22:11:34 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 910.4843ms
2025-02-13 22:11:34 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:11:34 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 944.1711ms
2025-02-13 22:24:49 [Information] Now listening on: "http://localhost:5207"
2025-02-13 22:24:49 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 22:24:49 [Information] Hosting environment: "Development"
2025-02-13 22:24:49 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 22:24:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 22:24:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 128.7351ms
2025-02-13 22:24:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 22:24:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 22:24:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.4093ms
2025-02-13 22:24:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 21.0053ms
2025-02-13 22:24:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 22:24:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.1821ms
2025-02-13 22:24:58 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 51
2025-02-13 22:24:58 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:24:58 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 22:24:58 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 22:24:58 [Information] Request Booking: [BookedTicketDto { TicketCode: "", Quantity: 0 }]
2025-02-13 22:24:59 [Information] Executed DbCommand ("33"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 22:24:59 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.ArgumentException: Tiket dengan kode  tidak valid.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 41
2025-02-13 22:24:59 [Error] Error di BookController saat create booking.
System.ArgumentException: Tiket dengan kode  tidak valid.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 41
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 22:24:59 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 22:24:59 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1029.8471ms
2025-02-13 22:24:59 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:24:59 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 1063.9896ms
2025-02-13 22:28:31 [Information] Now listening on: "http://localhost:5207"
2025-02-13 22:28:32 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 22:28:32 [Information] Hosting environment: "Development"
2025-02-13 22:28:32 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 22:28:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 22:28:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 114.2814ms
2025-02-13 22:28:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 22:28:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 22:28:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 1.8909ms
2025-02-13 22:28:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 21.7ms
2025-02-13 22:28:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 22:28:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.4726ms
2025-02-13 22:28:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - null null
2025-02-13 22:28:38 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 22:28:38 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 22:28:38 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 22:28:39 [Information] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 22:28:39 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 22:28:39 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 886.4524ms
2025-02-13 22:28:39 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 22:28:39 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - 200 null "application/json; charset=utf-8" 920.2566ms
2025-02-13 22:30:32 [Information] Now listening on: "http://localhost:5207"
2025-02-13 22:30:32 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 22:30:32 [Information] Hosting environment: "Development"
2025-02-13 22:30:32 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 22:30:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 22:30:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 151.0557ms
2025-02-13 22:30:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 22:30:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 22:30:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.1657ms
2025-02-13 22:30:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 21.3495ms
2025-02-13 22:30:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 22:30:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 9.7826ms
2025-02-13 22:30:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - null null
2025-02-13 22:30:38 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 22:30:38 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 22:30:38 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 22:30:39 [Information] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-02-13 22:30:39 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 22:30:39 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1183.3582ms
2025-02-13 22:30:39 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 22:30:39 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1230.0092ms
2025-02-13 22:30:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?Category=sadsadsa" - null null
2025-02-13 22:30:43 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 22:30:43 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(Acceloka.Models.DTOS.TicketDto)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-02-13 22:30:43 [Information] Executed DbCommand ("19"ms) [Parameters=["@__filter_Category_0_contains='?' (Size = 100) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[Category] LIKE @__filter_Category_0_contains ESCAPE '\'
ORDER BY [t].[TicketCode]"
2025-02-13 22:30:43 [Error] Error in GetAvailableTickets
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at Acceloka.Services.TicketService.GetAvailableTickets(TicketDto filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\TicketService.cs:line 57
2025-02-13 22:30:43 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 79.9126ms
2025-02-13 22:30:43 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-02-13 22:30:43 [Error] Exception occurred: No tickets found matching the criteria.
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at Acceloka.Services.TicketService.GetAvailableTickets(TicketDto filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\TicketService.cs:line 57
   at Acceloka.Controllers.TicketController.GetAvailableTickets(TicketDto filter) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\TicketController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 25
2025-02-13 22:30:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?Category=sadsadsa" - 404 null "application/problem+json" 103.7216ms
2025-02-13 22:42:37 [Information] Now listening on: "http://localhost:5207"
2025-02-13 22:42:37 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 22:42:37 [Information] Hosting environment: "Development"
2025-02-13 22:42:37 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 22:42:37 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 22:42:37 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 107.3715ms
2025-02-13 22:42:37 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 22:42:37 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.0772ms
2025-02-13 22:42:37 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 22:42:37 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 17.9931ms
2025-02-13 22:42:37 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 22:42:37 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.4443ms
2025-02-13 22:42:55 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 62
2025-02-13 22:42:55 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:42:55 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 22:42:55 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 22:42:55 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-02-13 22:42:55 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 110.318ms
2025-02-13 22:42:55 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:42:55 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 400 null "application/problem+json; charset=utf-8" 140.5906ms
2025-02-13 22:43:22 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 59
2025-02-13 22:43:22 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:43:22 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 22:43:22 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-02-13 22:43:22 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 6.9855ms
2025-02-13 22:43:22 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:43:22 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 400 null "application/problem+json; charset=utf-8" 9.2831ms
2025-02-13 22:43:27 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 22:43:27 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:43:27 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 22:43:27 [Information] Request Booking: [BookedTicketDto { TicketCode: "C001", Quantity: 3 }]
2025-02-13 22:43:28 [Information] Executed DbCommand ("40"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 22:43:28 [Information] Mengurangi quota tiket: "C001", Jumlah: 3, Sisa sebelum dikurangi: 91
2025-02-13 22:43:28 [Information] Executed DbCommand ("8"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-13 22:43:28 [Information] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 22:43:28 [Information] Executed DbCommand ("5"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-13 22:43:28 [Information] Booking berhasil dengan ID 18 dan Total Price 150000000.00
2025-02-13 22:43:28 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketResponseDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 22:43:28 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1208.245ms
2025-02-13 22:43:28 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 22:43:28 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 1213.9448ms
2025-02-13 23:04:19 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 23:04:19 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:04:19 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 23:04:19 [Information] Request Booking: [BookedTicketDto { TicketCode: "C001", Quantity: 100 }]
2025-02-13 23:04:19 [Information] Executed DbCommand ("6"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 23:04:19 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.Exception: Tiket dengan kode C001 tidak tersedia atau stok tidak mencukupi.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 47
2025-02-13 23:04:19 [Error] Error di BookController saat create booking.
System.Exception: Tiket dengan kode C001 tidak tersedia atau stok tidak mencukupi.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 47
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 34
2025-02-13 23:04:19 [Information] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-02-13 23:04:19 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 58.401ms
2025-02-13 23:04:19 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:04:19 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json; charset=utf-8" 59.5544ms
2025-02-13 23:07:38 [Information] Now listening on: "http://localhost:5207"
2025-02-13 23:07:38 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 23:07:38 [Information] Hosting environment: "Development"
2025-02-13 23:07:38 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 23:07:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 23:07:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 145.2383ms
2025-02-13 23:07:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 23:07:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 23:07:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.5949ms
2025-02-13 23:07:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 27.8014ms
2025-02-13 23:07:39 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 23:07:39 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.7826ms
2025-02-13 23:07:51 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 23:07:51 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:07:51 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 23:07:51 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 23:07:51 [Information] Request Booking: [BookedTicketDto { TicketCode: "C001", Quantity: 100 }]
2025-02-13 23:07:52 [Information] Executed DbCommand ("27"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 23:07:52 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.Exception: Tiket dengan kode C001 tidak tersedia atau stok tidak mencukupi.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 47
2025-02-13 23:07:52 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1120.6133ms
2025-02-13 23:07:52 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:07:52 [Error] Exception occurred: Tiket dengan kode C001 tidak tersedia atau stok tidak mencukupi.
System.Exception: Tiket dengan kode C001 tidak tersedia atau stok tidak mencukupi.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 47
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 25
2025-02-13 23:07:52 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 1180.5981ms
2025-02-13 23:13:47 [Information] Now listening on: "http://localhost:5207"
2025-02-13 23:13:47 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 23:13:47 [Information] Hosting environment: "Development"
2025-02-13 23:13:47 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 23:13:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 23:13:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 145.2161ms
2025-02-13 23:13:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 23:13:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 23:13:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 1.8873ms
2025-02-13 23:13:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 19.2943ms
2025-02-13 23:13:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 23:13:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.9818ms
2025-02-13 23:14:01 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 23:14:01 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:14:01 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 23:14:02 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 23:14:02 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-02-13 23:14:02 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 126.0867ms
2025-02-13 23:14:02 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:14:02 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 400 null "application/problem+json; charset=utf-8" 156.9453ms
2025-02-13 23:14:14 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-13 23:14:14 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:14:14 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 23:14:14 [Information] Request Booking: [BookedTicketDto { TicketCode: "C001", Quantity: 1 }]
2025-02-13 23:14:15 [Information] Executed DbCommand ("37"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 23:14:15 [Information] Mengurangi quota tiket: "C001", Jumlah: 1, Sisa sebelum dikurangi: 88
2025-02-13 23:14:16 [Information] Executed DbCommand ("9"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-13 23:14:16 [Information] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-13 23:14:16 [Information] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-13 23:14:16 [Information] Booking berhasil dengan ID 19 dan Total Price 50000000.00
2025-02-13 23:14:16 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketResponseDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-13 23:14:16 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1245.0365ms
2025-02-13 23:14:16 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:14:16 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 1255.1938ms
2025-02-13 23:15:15 [Information] Now listening on: "http://localhost:5207"
2025-02-13 23:15:15 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 23:15:15 [Information] Hosting environment: "Development"
2025-02-13 23:15:15 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 23:15:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 23:15:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 137.8289ms
2025-02-13 23:15:16 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 23:15:16 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 23:15:16 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.2365ms
2025-02-13 23:15:16 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 24.8202ms
2025-02-13 23:15:16 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 23:15:16 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 11.1258ms
2025-02-13 23:15:23 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 23:15:23 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:15:23 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 23:15:23 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 23:15:24 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-02-13 23:15:24 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 105.0374ms
2025-02-13 23:15:24 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:15:24 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 400 null "application/problem+json; charset=utf-8" 135.7634ms
2025-02-13 23:16:05 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 23:16:05 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:16:05 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 23:16:05 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-02-13 23:16:05 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 3.1055ms
2025-02-13 23:16:05 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:16:05 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 400 null "application/problem+json; charset=utf-8" 6.4465ms
2025-02-13 23:19:19 [Information] Now listening on: "http://localhost:5207"
2025-02-13 23:19:20 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 23:19:20 [Information] Hosting environment: "Development"
2025-02-13 23:19:20 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 23:19:20 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 23:19:20 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 154.2651ms
2025-02-13 23:19:20 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 23:19:20 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 23:19:20 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.8804ms
2025-02-13 23:19:20 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 24.5472ms
2025-02-13 23:19:20 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 23:19:20 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.0439ms
2025-02-13 23:19:30 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 23:19:30 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:19:30 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 23:19:30 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 23:19:30 [Information] Request Booking: [BookedTicketDto { TicketCode: "C001", Quantity: 100 }]
2025-02-13 23:19:31 [Information] Executed DbCommand ("28"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 23:19:31 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.Exception: Tiket dengan kode C001 tidak tersedia atau stok tidak mencukupi.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 47
2025-02-13 23:19:31 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1009.2425ms
2025-02-13 23:19:31 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:19:31 [Error] Exception occurred: Tiket dengan kode C001 tidak tersedia atau stok tidak mencukupi.
System.Exception: Tiket dengan kode C001 tidak tersedia atau stok tidak mencukupi.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 47
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 25
2025-02-13 23:19:31 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 1071.0974ms
2025-02-13 23:20:39 [Information] Now listening on: "http://localhost:5207"
2025-02-13 23:20:39 [Information] Application started. Press Ctrl+C to shut down.
2025-02-13 23:20:39 [Information] Hosting environment: "Development"
2025-02-13 23:20:39 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-13 23:20:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-13 23:20:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 172.3934ms
2025-02-13 23:20:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-13 23:20:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 4.0959ms
2025-02-13 23:20:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-13 23:20:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 34.0126ms
2025-02-13 23:20:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-13 23:20:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 10.7718ms
2025-02-13 23:20:54 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 57
2025-02-13 23:20:54 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:20:54 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-13 23:20:54 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-13 23:20:54 [Information] Request Booking: [BookedTicketDto { TicketCode: "C001", Quantity: 100 }]
2025-02-13 23:20:55 [Information] Executed DbCommand ("35"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-13 23:20:55 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.Exception: Tiket dengan kode C001 tidak tersedia atau stok tidak mencukupi.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 47
2025-02-13 23:20:55 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1094.7829ms
2025-02-13 23:20:55 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-13 23:20:55 [Error] Unhandled exception occurred.
System.Exception: Tiket dengan kode C001 tidak tersedia atau stok tidak mencukupi.
   at Acceloka.Services.BookService.CreateBookingAsync(List`1 bookedTicketsDto) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookService.cs:line 47
   at Acceloka.Controllers.BookController.CreateBooking(List`1 bookingRequest) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 24
2025-02-13 23:20:56 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/json" 1212.95ms
