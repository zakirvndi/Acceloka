2025-03-04 12:09:41 [Information] Now listening on: "http://localhost:5207"
2025-03-04 12:09:41 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 12:09:41 [Information] Hosting environment: "Development"
2025-03-04 12:09:41 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-03-04 12:09:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 12:09:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 239.9335ms
2025-03-04 12:09:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 12:09:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.6378ms
2025-03-04 12:09:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 12:09:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 77.3471ms
2025-03-04 12:09:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 12:09:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 10.9835ms
2025-03-04 12:09:57 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - null null
2025-03-04 12:09:57 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:09:57 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 12:09:57 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 12:09:58 [Information] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-03-04 12:09:58 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 12:09:58 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1198.5784ms
2025-03-04 12:09:58 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:09:58 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1249.3512ms
2025-03-04 12:10:12 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema" - null null
2025-03-04 12:10:12 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:10:12 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 12:10:12 [Information] Executed DbCommand ("15"ms) [Parameters=["@__request_Category_0_contains='?' (Size = 100) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[Category] LIKE @__request_Category_0_contains ESCAPE '\'
ORDER BY [t].[TicketCode]"
2025-03-04 12:10:12 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 12:10:12 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 50.0053ms
2025-03-04 12:10:12 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:10:12 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema" - 200 null "application/json; charset=utf-8" 52.436ms
2025-03-04 12:10:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema&ticketCode=TL0032" - null null
2025-03-04 12:10:24 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:10:24 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 12:10:25 [Information] Executed DbCommand ("277"ms) [Parameters=["@__request_Category_0_contains='?' (Size = 100) (DbType = AnsiString), @__request_TicketCode_1_contains='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[Category] LIKE @__request_Category_0_contains ESCAPE '\' AND [t].[TicketCode] LIKE @__request_TicketCode_1_contains ESCAPE '\'
ORDER BY [t].[TicketCode]"
2025-03-04 12:10:26 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1308.3814ms
2025-03-04 12:10:26 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:10:28 [Error] Exception occurred: "No tickets found matching the criteria."
System.Collections.Generic.KeyNotFoundException: No tickets found matching the criteria.
   at GetAvailableTicketsHandler.Handle(GetAvailableTicketsQuery request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Queries\Tickets\GetAvailableTicketsHandler.cs:line 55
   at ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Behaviors\ValidationBehavior.cs:line 30
   at Acceloka.Controllers.TicketController.GetAvailableTickets(String category, String ticketCode, Nullable`1 ticketPrice, Nullable`1 minEventDate, Nullable`1 maxEventDate, String orderBy, String orderState) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\TicketController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 12:10:29 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema&ticketCode=TL0032" - 404 null "application/problem+json" 4427.3159ms
2025-03-04 12:10:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema" - null null
2025-03-04 12:10:40 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:10:40 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 12:10:40 [Information] Executed DbCommand ("2"ms) [Parameters=["@__request_Category_0_contains='?' (Size = 100) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[Category] LIKE @__request_Category_0_contains ESCAPE '\'
ORDER BY [t].[TicketCode]"
2025-03-04 12:10:40 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 12:10:40 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 5.76ms
2025-03-04 12:10:40 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:10:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema" - 200 null "application/json; charset=utf-8" 6.7277ms
2025-03-04 12:10:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema&ticketCode=C003" - null null
2025-03-04 12:10:50 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:10:50 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 12:10:50 [Information] Executed DbCommand ("3"ms) [Parameters=["@__request_Category_0_contains='?' (Size = 100) (DbType = AnsiString), @__request_TicketCode_1_contains='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[Category] LIKE @__request_Category_0_contains ESCAPE '\' AND [t].[TicketCode] LIKE @__request_TicketCode_1_contains ESCAPE '\'
ORDER BY [t].[TicketCode]"
2025-03-04 12:10:50 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 12:10:50 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 5.6137ms
2025-03-04 12:10:50 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:10:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema&ticketCode=C003" - 200 null "application/json; charset=utf-8" 6.4466ms
2025-03-04 12:10:55 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - null null
2025-03-04 12:10:55 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:10:55 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 12:10:55 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-03-04 12:10:55 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 12:10:55 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 8.5493ms
2025-03-04 12:10:55 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:10:55 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - 200 null "application/json; charset=utf-8" 9.648ms
2025-03-04 12:11:16 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?minEventDate=2025-07-01&maxEventDate=2025-03-01" - null null
2025-03-04 12:11:16 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:11:16 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 12:11:16 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 17.6995ms
2025-03-04 12:11:16 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:11:16 [Error] Exception occurred: "Validation failed: 
 -- MinEventDate: MinEventDate cannot be later than MaxEventDate. Severity: Error"
FluentValidation.ValidationException: Validation failed: 
 -- MinEventDate: MinEventDate cannot be later than MaxEventDate. Severity: Error
   at ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Behaviors\ValidationBehavior.cs:line 27
   at Acceloka.Controllers.TicketController.GetAvailableTickets(String category, String ticketCode, Nullable`1 ticketPrice, Nullable`1 minEventDate, Nullable`1 maxEventDate, String orderBy, String orderState) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\TicketController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 12:11:16 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?minEventDate=2025-07-01&maxEventDate=2025-03-01" - 500 null "application/problem+json" 19.7153ms
2025-03-04 12:11:28 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?minEventDate=2025-03-01&maxEventDate=2025-07-01" - null null
2025-03-04 12:11:28 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:11:28 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 12:11:28 [Information] Executed DbCommand ("4"ms) [Parameters=["@__request_MinEventDate_Value_0='?' (DbType = DateTimeOffset), @__request_MaxEventDate_Value_1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[EventDate] >= @__request_MinEventDate_Value_0 AND [t].[EventDate] <= @__request_MaxEventDate_Value_1
ORDER BY [t].[TicketCode]"
2025-03-04 12:11:28 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 12:11:28 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 16.1397ms
2025-03-04 12:11:28 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:11:28 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?minEventDate=2025-03-01&maxEventDate=2025-07-01" - 200 null "application/json; charset=utf-8" 16.8976ms
2025-03-04 12:11:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?orderBy=EventDate" - null null
2025-03-04 12:11:43 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:11:43 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 12:11:43 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[EventDate]"
2025-03-04 12:11:43 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 12:11:43 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 13.4124ms
2025-03-04 12:11:43 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:11:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?orderBy=EventDate" - 200 null "application/json; charset=utf-8" 14.2301ms
2025-03-04 12:11:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?orderBy=EventDate" - null null
2025-03-04 12:11:43 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:11:43 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 12:11:43 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[EventDate]"
2025-03-04 12:11:43 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 12:11:43 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 3.4926ms
2025-03-04 12:11:43 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 12:11:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?orderBy=EventDate" - 200 null "application/json; charset=utf-8" 4.0759ms
2025-03-04 15:25:41 [Information] Now listening on: "http://localhost:5207"
2025-03-04 15:25:41 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 15:25:41 [Information] Hosting environment: "Development"
2025-03-04 15:25:41 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-03-04 15:25:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 15:25:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 149.6917ms
2025-03-04 15:25:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 15:25:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 15:25:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 1.8397ms
2025-03-04 15:25:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 23.1106ms
2025-03-04 15:25:42 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 15:25:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.191ms
2025-03-04 15:25:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 15:25:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.4841ms
2025-03-04 15:25:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 15:25:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.0394ms
2025-03-04 15:26:28 [Information] Now listening on: "http://localhost:5207"
2025-03-04 15:26:28 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 15:26:28 [Information] Hosting environment: "Development"
2025-03-04 15:26:28 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-03-04 15:26:29 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 15:26:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 383.4969ms
2025-03-04 15:26:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 15:26:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 15:26:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.3384ms
2025-03-04 15:26:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 49.9137ms
2025-03-04 15:26:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 15:26:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 26.5549ms
2025-03-04 15:26:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - null null
2025-03-04 15:26:33 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 15:26:33 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 15:26:34 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 15:26:35 [Information] Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-03-04 15:26:35 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 15:26:35 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1685.5735ms
2025-03-04 15:26:35 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 15:26:35 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1738.8691ms
2025-03-04 15:26:58 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 78
2025-03-04 15:26:58 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 15:26:58 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(Acceloka.Application.Commands.Bookings.CreateBookingCommand)" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-03-04 15:26:58 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-04 15:26:59 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 61.341ms
2025-03-04 15:26:59 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 15:26:59 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 400 null "application/problem+json; charset=utf-8" 92.6726ms
2025-03-04 15:27:09 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 84
2025-03-04 15:27:09 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 15:27:09 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(Acceloka.Application.Commands.Bookings.CreateBookingCommand)" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-03-04 15:27:09 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 136.0383ms
2025-03-04 15:27:09 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 15:27:09 [Error] Exception occurred: "Validation failed: 
 -- Tickets[0].Quantity: Ticket quantity must be greater than 0. Severity: Error"
FluentValidation.ValidationException: Validation failed: 
 -- Tickets[0].Quantity: Ticket quantity must be greater than 0. Severity: Error
   at ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Behaviors\ValidationBehavior.cs:line 27
   at Acceloka.Controllers.BookController.CreateBooking(CreateBookingCommand command) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 15:27:09 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 300.0595ms
2025-03-04 15:27:13 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 84
2025-03-04 15:27:13 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 15:27:13 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(Acceloka.Application.Commands.Bookings.CreateBookingCommand)" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-03-04 15:27:13 [Information] Executed DbCommand ("30"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-03-04 15:27:13 [Error] Error saat melakukan booking ticket. Semua perubahan dibatalkan.
System.Exception: Tiket dengan kode TL1023 tidak tersedia atau stok tidak mencukupi.
   at CreateBookingHandler.Handle(CreateBookingCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\Bookings\CreateBookingHandler.cs:line 42
2025-03-04 15:27:13 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 226.6623ms
2025-03-04 15:27:13 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 15:27:13 [Error] Exception occurred: "Tiket dengan kode TL1023 tidak tersedia atau stok tidak mencukupi."
System.Exception: Tiket dengan kode TL1023 tidak tersedia atau stok tidak mencukupi.
   at CreateBookingHandler.Handle(CreateBookingCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\Bookings\CreateBookingHandler.cs:line 42
   at ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Behaviors\ValidationBehavior.cs:line 30
   at Acceloka.Controllers.BookController.CreateBooking(CreateBookingCommand command) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 15:27:13 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 500 null "application/problem+json" 275.135ms
2025-03-04 15:27:33 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 82
2025-03-04 15:27:33 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 15:27:33 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(Acceloka.Application.Commands.Bookings.CreateBookingCommand)" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-03-04 15:27:33 [Information] Executed DbCommand ("19"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-03-04 15:27:33 [Information] Mengurangi quota tiket: "C003", Jumlah: 2, Sisa sebelum dikurangi: 78
2025-03-04 15:27:33 [Information] Executed DbCommand ("13"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-03-04 15:27:33 [Information] Executed DbCommand ("18"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-03-04 15:27:33 [Information] Executed DbCommand ("12"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-03-04 15:27:33 [Information] Booking berhasil dengan ID 25 dan Total Price 110000000.00
2025-03-04 15:27:33 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketResponseDto"'.
2025-03-04 15:27:33 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 301.5083ms
2025-03-04 15:27:33 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 15:27:33 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 302.8099ms
2025-03-04 15:31:06 [Information] Now listening on: "http://localhost:5207"
2025-03-04 15:31:06 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 15:31:06 [Information] Hosting environment: "Development"
2025-03-04 15:31:06 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-03-04 15:31:06 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 15:31:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 145.9801ms
2025-03-04 15:31:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 15:31:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 5.9296ms
2025-03-04 15:31:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 15:31:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 27.7484ms
2025-03-04 15:31:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 15:31:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.1107ms
2025-03-04 15:31:23 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - null null
2025-03-04 15:31:23 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 15:31:23 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 15:31:23 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 15:31:24 [Information] Executed DbCommand ("26"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-03-04 15:31:24 [Information] Executed DbCommand ("3"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-03-04 15:31:24 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-03-04 15:31:24 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-03-04 15:31:24 [Information] Revoke ticket berhasil: "TD001" dengan qty 1
2025-03-04 15:31:24 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 15:31:24 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 1132.927ms
2025-03-04 15:31:24 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 15:31:24 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - 200 null "application/json; charset=utf-8" 1165.382ms
2025-03-04 16:33:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-03-04 16:33:10 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-03-04 16:33:11 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 16:33:11 [Information] Executed DbCommand ("12"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-03-04 16:33:11 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-03-04 16:33:11 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 60.3581ms
2025-03-04 16:33:11 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-03-04 16:33:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 70.7796ms
2025-03-04 16:52:14 [Information] Now listening on: "http://localhost:5207"
2025-03-04 16:52:14 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 16:52:14 [Information] Hosting environment: "Development"
2025-03-04 16:52:14 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-03-04 16:52:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 16:52:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 242.998ms
2025-03-04 16:52:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 16:52:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 16:52:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 11.6293ms
2025-03-04 16:52:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 44.8754ms
2025-03-04 16:52:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 16:52:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 14.406ms
2025-03-04 16:52:41 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 82
2025-03-04 16:52:41 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 16:52:42 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(Acceloka.Application.Commands.Bookings.CreateBookingCommand)" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-03-04 16:52:42 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 16:52:43 [Information] Executed DbCommand ("237"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-03-04 16:52:43 [Information] Mengurangi quota tiket: "H001", Jumlah: 3, Sisa sebelum dikurangi: 72
2025-03-04 16:52:43 [Information] Executed DbCommand ("9"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-03-04 16:52:44 [Information] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-03-04 16:52:44 [Information] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-03-04 16:52:44 [Information] Booking berhasil dengan ID 26 dan Total Price 150000000.00
2025-03-04 16:52:44 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketResponseDto"'.
2025-03-04 16:52:44 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 2053.8651ms
2025-03-04 16:52:44 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 16:52:44 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 2115.7027ms
2025-03-04 16:52:59 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/26""" - null null
2025-03-04 16:52:59 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 16:52:59 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 16:53:00 [Error] Exception occurred: "Multiple constructors accepting all given argument types have been found in type 'Acceloka.Controllers.BookedTicketController'. There should only be one applicable constructor."
System.InvalidOperationException: Multiple constructors accepting all given argument types have been found in type 'Acceloka.Controllers.BookedTicketController'. There should only be one applicable constructor.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.TryFindMatchingConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& parameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactoryInternal(Type instanceType, Type[] argumentTypes, ParameterExpression& provider, ParameterExpression& argumentArray, Expression& factoryExpressionBody)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactory(Type instanceType, Type[] argumentTypes)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.CreateActivator(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.CreateControllerFactory(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 16:53:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/26""" - 500 null "application/problem+json" 199.2942ms
2025-03-04 16:55:21 [Information] Now listening on: "http://localhost:5207"
2025-03-04 16:55:21 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 16:55:21 [Information] Hosting environment: "Development"
2025-03-04 16:55:21 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-03-04 16:55:22 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 16:55:22 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 294.2539ms
2025-03-04 16:55:22 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 16:55:22 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 16:55:22 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 4.4609ms
2025-03-04 16:55:22 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 45.3801ms
2025-03-04 16:55:22 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 16:55:22 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 11.328ms
2025-03-04 16:55:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/26""" - null null
2025-03-04 16:55:27 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 16:55:27 [Information] Route matched with "{action = \"GetBookedTicketById\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicketById(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 16:55:28 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 16:55:29 [Information] Executed DbCommand ("47"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 16:55:29 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-03-04 16:55:29 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)" in 1522.4407ms
2025-03-04 16:55:29 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 16:55:29 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/26""" - 200 null "application/json; charset=utf-8" 1570.0299ms
2025-03-04 16:56:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-03-04 16:56:41 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 16:56:41 [Information] Route matched with "{action = \"GetBookedTicketById\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicketById(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 16:56:41 [Information] Executed DbCommand ("9"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 16:56:41 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-03-04 16:56:41 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)" in 23.9277ms
2025-03-04 16:56:41 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 16:56:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 27.8889ms
2025-03-04 17:39:13 [Information] Now listening on: "http://localhost:5207"
2025-03-04 17:39:13 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 17:39:13 [Information] Hosting environment: "Development"
2025-03-04 17:39:13 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-03-04 17:39:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 17:39:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 228.1782ms
2025-03-04 17:39:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 17:39:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 17:39:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.3335ms
2025-03-04 17:39:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 41.0751ms
2025-03-04 17:39:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 17:39:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 13.6996ms
2025-03-04 17:39:52 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/26/H001/1""" - null null
2025-03-04 17:39:52 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 17:39:52 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 17:39:52 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 17:39:53 [Information] Executed DbCommand ("52"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32), @__request_TicketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0 AND [b].[TicketCode] = @__request_TicketCode_1"
2025-03-04 17:39:53 [Information] Executed DbCommand ("7"ms) [Parameters=["@__request_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__request_TicketCode_0"
2025-03-04 17:39:53 [Information] Executed DbCommand ("9"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-03-04 17:39:53 [Information] Executed DbCommand ("5"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 17:39:53 [Information] Revoke ticket berhasil: "H001" dengan qty 1
2025-03-04 17:39:53 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 17:39:53 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 1705.8706ms
2025-03-04 17:39:53 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 17:39:53 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/26/H001/1""" - 200 null "application/json; charset=utf-8" 1760.478ms
2025-03-04 17:44:26 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001123/1""" - null null
2025-03-04 17:44:26 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 17:44:26 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 17:44:26 [Information] Executed DbCommand ("9"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32), @__request_TicketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0 AND [b].[TicketCode] = @__request_TicketCode_1"
2025-03-04 17:44:26 [Error] Error saat melakukan revoke tiket.
System.Collections.Generic.KeyNotFoundException: Booked ticket dengan BookId 20 dan kode TD001123 tidak ditemukan.
   at Acceloka.Application.Commands.BookedTickets.DeleteBookedTicketHandler.Handle(DeleteBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\DeleteBookedTicketHandler.cs:line 29
2025-03-04 17:44:26 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 174.4282ms
2025-03-04 17:44:26 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 17:44:26 [Error] Exception occurred: "Booked ticket dengan BookId 20 dan kode TD001123 tidak ditemukan."
System.Collections.Generic.KeyNotFoundException: Booked ticket dengan BookId 20 dan kode TD001123 tidak ditemukan.
   at Acceloka.Application.Commands.BookedTickets.DeleteBookedTicketHandler.Handle(DeleteBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\DeleteBookedTicketHandler.cs:line 29
   at Acceloka.Application.Commands.BookedTickets.DeleteBookedTicketHandler.Handle(DeleteBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\DeleteBookedTicketHandler.cs:line 100
   at Acceloka.Application.Commands.BookedTickets.DeleteBookedTicketHandler.Handle(DeleteBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\DeleteBookedTicketHandler.cs:line 101
   at ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Behaviors\ValidationBehavior.cs:line 30
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 17:44:26 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001123/1""" - 404 null "application/problem+json" 334.1057ms
2025-03-04 17:44:53 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/0""" - null null
2025-03-04 17:44:53 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 17:44:53 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 17:44:53 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 78.0096ms
2025-03-04 17:44:53 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 17:44:53 [Error] Exception occurred: "Validation failed: 
 -- Quantity: Quantity must be greater than 0. Severity: Error"
FluentValidation.ValidationException: Validation failed: 
 -- Quantity: Quantity must be greater than 0. Severity: Error
   at ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Behaviors\ValidationBehavior.cs:line 27
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 17:44:53 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/0""" - 500 null "application/problem+json" 96.8453ms
2025-03-04 17:46:44 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/5""" - null null
2025-03-04 17:46:44 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 17:46:44 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 17:46:44 [Information] Executed DbCommand ("10"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32), @__request_TicketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0 AND [b].[TicketCode] = @__request_TicketCode_1"
2025-03-04 17:46:44 [Error] Error saat melakukan revoke tiket.
System.ArgumentException: Qty yang ingin direvoke (5) melebihi jumlah tiket yang dipesan (2).
   at Acceloka.Application.Commands.BookedTickets.DeleteBookedTicketHandler.Handle(DeleteBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\DeleteBookedTicketHandler.cs:line 34
2025-03-04 17:46:44 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 107.951ms
2025-03-04 17:46:44 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 17:46:44 [Error] Exception occurred: "Qty yang ingin direvoke (5) melebihi jumlah tiket yang dipesan (2)."
System.ArgumentException: Qty yang ingin direvoke (5) melebihi jumlah tiket yang dipesan (2).
   at Acceloka.Application.Commands.BookedTickets.DeleteBookedTicketHandler.Handle(DeleteBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\DeleteBookedTicketHandler.cs:line 34
   at Acceloka.Application.Commands.BookedTickets.DeleteBookedTicketHandler.Handle(DeleteBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\DeleteBookedTicketHandler.cs:line 100
   at Acceloka.Application.Commands.BookedTickets.DeleteBookedTicketHandler.Handle(DeleteBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\DeleteBookedTicketHandler.cs:line 101
   at ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Behaviors\ValidationBehavior.cs:line 30
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 17:46:44 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/5""" - 400 null "application/problem+json" 148.3812ms
2025-03-04 20:22:04 [Information] Now listening on: "http://localhost:5207"
2025-03-04 20:22:05 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 20:22:05 [Information] Hosting environment: "Development"
2025-03-04 20:22:05 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-03-04 20:22:06 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 20:22:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 506.6618ms
2025-03-04 20:22:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 20:22:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 20:22:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.3365ms
2025-03-04 20:22:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 79.2822ms
2025-03-04 20:22:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 20:22:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 20.4283ms
2025-03-04 20:22:16 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - null null
2025-03-04 20:22:16 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:22:16 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 20:22:16 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 20:22:17 [Information] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-03-04 20:22:17 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 20:22:17 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1423.0394ms
2025-03-04 20:22:17 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:22:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1479.8343ms
2025-03-04 20:22:46 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 83
2025-03-04 20:22:46 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 20:22:46 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(Acceloka.Application.Commands.Bookings.CreateBookingCommand)" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-03-04 20:22:46 [Information] Executed DbCommand ("22"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-03-04 20:22:46 [Information] Mengurangi quota tiket: "C002", Jumlah: 10, Sisa sebelum dikurangi: 95
2025-03-04 20:22:46 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-03-04 20:22:46 [Information] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-03-04 20:22:46 [Information] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-03-04 20:22:46 [Information] Booking berhasil dengan ID 27 dan Total Price 600000000.00
2025-03-04 20:22:46 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketResponseDto"'.
2025-03-04 20:22:46 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 373.4594ms
2025-03-04 20:22:46 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 20:22:46 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 380.7815ms
2025-03-04 20:23:41 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 207
2025-03-04 20:23:41 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 20:23:41 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(Acceloka.Application.Commands.Bookings.CreateBookingCommand)" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-03-04 20:23:41 [Information] Executed DbCommand ("14"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-03-04 20:23:41 [Information] Mengurangi quota tiket: "C002", Jumlah: 3, Sisa sebelum dikurangi: 85
2025-03-04 20:23:41 [Information] Mengurangi quota tiket: "TL003", Jumlah: 2, Sisa sebelum dikurangi: 27
2025-03-04 20:23:41 [Information] Mengurangi quota tiket: "TL002", Jumlah: 1, Sisa sebelum dikurangi: 59
2025-03-04 20:23:41 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;
UPDATE [Ticket] SET [Quota] = @p4
OUTPUT 1
WHERE [TicketCode] = @p5;"
2025-03-04 20:23:41 [Information] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-03-04 20:23:41 [Information] Executed DbCommand ("16"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [BookedTicket] USING (
VALUES (@p3, @p4, @p5, 0),
(@p6, @p7, @p8, 1),
(@p9, @p10, @p11, 2)) AS i ([BookId], [Quantity], [TicketCode], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookId], [Quantity], [TicketCode])
VALUES (i.[BookId], i.[Quantity], i.[TicketCode])
OUTPUT INSERTED.[BookedTicketId], i._Position;"
2025-03-04 20:23:41 [Information] Booking berhasil dengan ID 28 dan Total Price 465000000.00
2025-03-04 20:23:41 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketResponseDto"'.
2025-03-04 20:23:41 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 56.6807ms
2025-03-04 20:23:41 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 20:23:41 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 58.5951ms
2025-03-04 20:24:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/28""" - null null
2025-03-04 20:24:43 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 20:24:43 [Information] Route matched with "{action = \"GetBookedTicketById\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicketById(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 20:24:43 [Information] Executed DbCommand ("8"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 20:24:43 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-03-04 20:24:43 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)" in 70.5121ms
2025-03-04 20:24:43 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 20:24:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/28""" - 200 null "application/json; charset=utf-8" 82.0615ms
2025-03-04 20:25:47 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/28/C002/2""" - null null
2025-03-04 20:25:47 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 20:25:47 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 20:25:47 [Information] Executed DbCommand ("7"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32), @__request_TicketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0 AND [b].[TicketCode] = @__request_TicketCode_1"
2025-03-04 20:25:47 [Information] Executed DbCommand ("1"ms) [Parameters=["@__request_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__request_TicketCode_0"
2025-03-04 20:25:47 [Information] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-03-04 20:25:47 [Information] Executed DbCommand ("2"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 20:25:47 [Information] Revoke ticket berhasil: "C002" dengan qty 2
2025-03-04 20:25:47 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 20:25:47 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 70.3997ms
2025-03-04 20:25:47 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 20:25:47 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/28/C002/2""" - 200 null "application/json; charset=utf-8" 78.3141ms
2025-03-04 20:26:21 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/28""" - "application/json" 59
2025-03-04 20:26:21 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)"'
2025-03-04 20:26:21 [Information] Route matched with "{action = \"UpdateBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBookedTicket(Int32, Acceloka.Application.Commands.BookedTickets.UpdateBookedTicketCommand)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 20:26:21 [Information] Executed DbCommand ("9"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32), @__request_TicketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0 AND [b].[TicketCode] = @__request_TicketCode_1"
2025-03-04 20:26:21 [Information] Executed DbCommand ("1"ms) [Parameters=["@__request_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__request_TicketCode_0"
2025-03-04 20:26:21 [Information] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-03-04 20:26:21 [Information] Executed DbCommand ("3"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 20:26:21 [Information] Update tiket berhasil: "C002" dengan qty 4
2025-03-04 20:26:21 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 20:26:21 [Information] Executed action "Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)" in 35.3045ms
2025-03-04 20:26:21 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)"'
2025-03-04 20:26:21 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/28""" - 200 null "application/json; charset=utf-8" 43.1385ms
2025-03-04 20:26:34 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/28""" - "application/json" 59
2025-03-04 20:26:34 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)"'
2025-03-04 20:26:34 [Information] Route matched with "{action = \"UpdateBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBookedTicket(Int32, Acceloka.Application.Commands.BookedTickets.UpdateBookedTicketCommand)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 20:26:34 [Information] Executed action "Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)" in 117.5763ms
2025-03-04 20:26:34 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)"'
2025-03-04 20:26:34 [Error] Exception occurred: "Validation failed: 
 -- Quantity: Quantity must be greater than 0. Severity: Error"
FluentValidation.ValidationException: Validation failed: 
 -- Quantity: Quantity must be greater than 0. Severity: Error
   at ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Behaviors\ValidationBehavior.cs:line 27
   at Acceloka.Controllers.BookedTicketController.UpdateBookedTicket(Int32 bookId, UpdateBookedTicketCommand command) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 20:26:34 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/28""" - 500 null "application/problem+json" 269.2814ms
2025-03-04 20:26:47 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/28""" - "application/json" 62
2025-03-04 20:26:47 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)"'
2025-03-04 20:26:47 [Information] Route matched with "{action = \"UpdateBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBookedTicket(Int32, Acceloka.Application.Commands.BookedTickets.UpdateBookedTicketCommand)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 20:26:47 [Information] Executed DbCommand ("9"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32), @__request_TicketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0 AND [b].[TicketCode] = @__request_TicketCode_1"
2025-03-04 20:26:47 [Information] Executed DbCommand ("2"ms) [Parameters=["@__request_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__request_TicketCode_0"
2025-03-04 20:26:47 [Error] Error saat melakukan update tiket.
System.ArgumentException: Quantity yang diminta (3000) melebihi total quota tiket yang tersedia (85).
   at Acceloka.Application.Commands.BookedTickets.UpdateBookedTicketHandler.Handle(UpdateBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\UpdateBookedTicketHandler.cs:line 41
2025-03-04 20:26:47 [Information] Executed action "Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)" in 107.0112ms
2025-03-04 20:26:47 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)"'
2025-03-04 20:26:47 [Error] Exception occurred: "Quantity yang diminta (3000) melebihi total quota tiket yang tersedia (85)."
System.ArgumentException: Quantity yang diminta (3000) melebihi total quota tiket yang tersedia (85).
   at Acceloka.Application.Commands.BookedTickets.UpdateBookedTicketHandler.Handle(UpdateBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\UpdateBookedTicketHandler.cs:line 41
   at Acceloka.Application.Commands.BookedTickets.UpdateBookedTicketHandler.Handle(UpdateBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\UpdateBookedTicketHandler.cs:line 84
   at Acceloka.Application.Commands.BookedTickets.UpdateBookedTicketHandler.Handle(UpdateBookedTicketCommand request, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Commands\BookedTickets\UpdateBookedTicketHandler.cs:line 85
   at ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Behaviors\ValidationBehavior.cs:line 30
   at Acceloka.Controllers.BookedTicketController.UpdateBookedTicket(Int32 bookId, UpdateBookedTicketCommand command) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 20:26:47 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/28""" - 400 null "application/problem+json" 144.5549ms
2025-03-04 20:28:40 [Information] Now listening on: "http://localhost:5207"
2025-03-04 20:28:40 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 20:28:40 [Information] Hosting environment: "Development"
2025-03-04 20:28:40 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-03-04 20:28:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 20:28:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 267.2428ms
2025-03-04 20:28:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 20:28:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 20:28:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 6.9981ms
2025-03-04 20:28:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 36.8879ms
2025-03-04 20:28:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 20:28:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 10.5409ms
2025-03-04 20:28:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - null null
2025-03-04 20:28:46 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:28:46 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 20:28:46 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 20:28:47 [Information] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-03-04 20:28:48 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 20:28:48 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1587.505ms
2025-03-04 20:28:48 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:28:48 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1640.6755ms
2025-03-04 20:29:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/28""" - null null
2025-03-04 20:29:09 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 20:29:09 [Information] Route matched with "{action = \"GetBookedTicketById\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicketById(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 20:29:09 [Information] Executed DbCommand ("27"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 20:29:09 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-03-04 20:29:09 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)" in 161.7442ms
2025-03-04 20:29:09 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 20:29:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/28""" - 200 null "application/json; charset=utf-8" 170.3447ms
2025-03-04 20:31:39 [Information] Now listening on: "http://localhost:5207"
2025-03-04 20:31:39 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 20:31:39 [Information] Hosting environment: "Development"
2025-03-04 20:31:39 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-03-04 20:31:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 20:31:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 328.5507ms
2025-03-04 20:31:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 20:31:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 20:31:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 4.6166ms
2025-03-04 20:31:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 44.2489ms
2025-03-04 20:31:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 20:31:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 11.676ms
2025-03-04 20:31:48 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema" - null null
2025-03-04 20:31:48 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:31:48 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 20:31:48 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 20:31:49 [Information] Executed DbCommand ("47"ms) [Parameters=["@__request_Category_0_contains='?' (Size = 100) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[Category] LIKE @__request_Category_0_contains ESCAPE '\'
ORDER BY [t].[TicketCode]"
2025-03-04 20:31:49 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 20:31:50 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1400.3953ms
2025-03-04 20:31:50 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:31:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema" - 200 null "application/json; charset=utf-8" 1446.825ms
2025-03-04 20:32:26 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema&orderBy=ticketPrice" - null null
2025-03-04 20:32:26 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:32:26 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 20:32:26 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 94.9254ms
2025-03-04 20:32:26 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:32:26 [Error] Exception occurred: "Validation failed: 
 -- OrderBy: Invalid OrderBy field. Allowed values: TicketName, Category, TicketPrice, EventDate, TicketCode. Severity: Error"
FluentValidation.ValidationException: Validation failed: 
 -- OrderBy: Invalid OrderBy field. Allowed values: TicketName, Category, TicketPrice, EventDate, TicketCode. Severity: Error
   at ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Application\Behaviors\ValidationBehavior.cs:line 27
   at Acceloka.Controllers.TicketController.GetAvailableTickets(String category, String ticketCode, Nullable`1 ticketPrice, Nullable`1 minEventDate, Nullable`1 maxEventDate, String orderBy, String orderState) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\TicketController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-03-04 20:32:26 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema&orderBy=ticketPrice" - 500 null "application/problem+json" 245.9905ms
2025-03-04 20:32:34 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema&orderBy=TicketPrice" - null null
2025-03-04 20:32:34 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:32:34 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 20:32:34 [Information] Executed DbCommand ("5"ms) [Parameters=["@__request_Category_0_contains='?' (Size = 100) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[Category] LIKE @__request_Category_0_contains ESCAPE '\'
ORDER BY [t].[TicketPrice]"
2025-03-04 20:32:34 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 20:32:34 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 27.3528ms
2025-03-04 20:32:34 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:32:34 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema&orderBy=TicketPrice" - 200 null "application/json; charset=utf-8" 28.4694ms
2025-03-04 20:32:42 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?orderBy=TicketPrice" - null null
2025-03-04 20:32:42 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:32:42 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 20:32:42 [Information] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketPrice]"
2025-03-04 20:32:42 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 20:32:42 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 17.1115ms
2025-03-04 20:32:42 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 20:32:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?orderBy=TicketPrice" - 200 null "application/json; charset=utf-8" 18.254ms
2025-03-04 22:11:02 [Information] Now listening on: "http://localhost:5207"
2025-03-04 22:11:02 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 22:11:02 [Information] Hosting environment: "Development"
2025-03-04 22:11:02 [Information] Content root path: "C:\Users\ZAKI\Documents\GitHub\Acceloka\Acceloka"
2025-03-04 22:11:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 22:11:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 216.3904ms
2025-03-04 22:11:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 22:11:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.3004ms
2025-03-04 22:11:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 22:11:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 56.2723ms
2025-03-04 22:11:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 22:11:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 8.0842ms
2025-03-04 22:11:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/28""" - null null
2025-03-04 22:11:08 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 22:11:08 [Information] Route matched with "{action = \"GetBookedTicketById\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicketById(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 22:11:08 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 22:11:09 [Information] Executed DbCommand ("29"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 22:11:09 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-03-04 22:11:09 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)" in 1144.2576ms
2025-03-04 22:11:09 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 22:11:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/28""" - 200 null "application/json; charset=utf-8" 1176.5103ms
2025-03-04 22:11:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 22:11:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 6.1918ms
2025-03-04 22:11:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 22:11:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.4745ms
2025-03-04 22:11:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 22:11:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 12.2088ms
2025-03-04 22:11:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 22:11:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.5429ms
2025-03-04 22:11:45 [Information] Now listening on: "http://localhost:5207"
2025-03-04 22:11:45 [Information] Application started. Press Ctrl+C to shut down.
2025-03-04 22:11:45 [Information] Hosting environment: "Development"
2025-03-04 22:11:45 [Information] Content root path: "C:\Users\ZAKI\Documents\GitHub\Acceloka\Acceloka"
2025-03-04 22:11:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-03-04 22:11:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 200.428ms
2025-03-04 22:11:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-03-04 22:11:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-03-04 22:11:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.9706ms
2025-03-04 22:11:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 34.4047ms
2025-03-04 22:11:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-03-04 22:11:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 8.0586ms
2025-03-04 22:11:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - null null
2025-03-04 22:11:50 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 22:11:50 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 22:11:50 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-03-04 22:11:52 [Information] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
ORDER BY [t].[TicketCode]"
2025-03-04 22:11:52 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 22:11:52 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 1473.9478ms
2025-03-04 22:11:52 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 22:11:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""" - 200 null "application/json; charset=utf-8" 1523.5885ms
2025-03-04 22:11:58 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema" - null null
2025-03-04 22:11:58 [Information] Executing endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 22:11:58 [Information] Route matched with "{action = \"GetAvailableTickets\", controller = \"Ticket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTimeOffset], System.Nullable`1[System.DateTimeOffset], System.String, System.String)" on controller "Acceloka.Controllers.TicketController" ("Acceloka").
2025-03-04 22:11:58 [Information] Executed DbCommand ("27"ms) [Parameters=["@__request_Category_0_contains='?' (Size = 100) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[Category] LIKE @__request_Category_0_contains ESCAPE '\'
ORDER BY [t].[TicketCode]"
2025-03-04 22:11:58 [Information] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Acceloka.Models.DTOS.TicketDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 22:11:58 [Information] Executed action "Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)" in 66.6003ms
2025-03-04 22:11:58 [Information] Executed endpoint '"Acceloka.Controllers.TicketController.GetAvailableTickets (Acceloka)"'
2025-03-04 22:11:58 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-available-ticket""?category=Cinema" - 200 null "application/json; charset=utf-8" 69.2206ms
2025-03-04 22:12:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/29""" - null null
2025-03-04 22:12:03 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 22:12:03 [Information] Route matched with "{action = \"GetBookedTicketById\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicketById(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 22:12:03 [Information] Executed DbCommand ("5"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 22:12:03 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-03-04 22:12:03 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)" in 109.6269ms
2025-03-04 22:12:03 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicketById (Acceloka)"'
2025-03-04 22:12:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/29""" - 200 null "application/json; charset=utf-8" 115.6168ms
2025-03-04 22:12:11 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 82
2025-03-04 22:12:11 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 22:12:11 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(Acceloka.Application.Commands.Bookings.CreateBookingCommand)" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-03-04 22:12:11 [Information] Executed DbCommand ("15"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-03-04 22:12:11 [Information] Mengurangi quota tiket: "C002", Jumlah: 1, Sisa sebelum dikurangi: 82
2025-03-04 22:12:11 [Information] Executed DbCommand ("9"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-03-04 22:12:12 [Information] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-03-04 22:12:12 [Information] Executed DbCommand ("4"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-03-04 22:12:12 [Information] Booking berhasil dengan ID 30 dan Total Price 60000000.00
2025-03-04 22:12:12 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketResponseDto"'.
2025-03-04 22:12:12 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 393.0667ms
2025-03-04 22:12:12 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-03-04 22:12:12 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 400.1671ms
2025-03-04 22:12:43 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/27/C002/5""" - null null
2025-03-04 22:12:43 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 22:12:43 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 22:12:43 [Information] Executed DbCommand ("5"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32), @__request_TicketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0 AND [b].[TicketCode] = @__request_TicketCode_1"
2025-03-04 22:12:43 [Information] Executed DbCommand ("2"ms) [Parameters=["@__request_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__request_TicketCode_0"
2025-03-04 22:12:43 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-03-04 22:12:43 [Information] Executed DbCommand ("2"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 22:12:43 [Information] Revoke ticket berhasil: "C002" dengan qty 5
2025-03-04 22:12:43 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 22:12:43 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 81.5953ms
2025-03-04 22:12:43 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-03-04 22:12:43 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/27/C002/5""" - 200 null "application/json; charset=utf-8" 87.1709ms
2025-03-04 22:13:06 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/27""" - "application/json" 59
2025-03-04 22:13:06 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)"'
2025-03-04 22:13:06 [Information] Route matched with "{action = \"UpdateBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBookedTicket(Int32, Acceloka.Application.Commands.BookedTickets.UpdateBookedTicketCommand)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-03-04 22:13:06 [Information] Executed DbCommand ("13"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32), @__request_TicketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0 AND [b].[TicketCode] = @__request_TicketCode_1"
2025-03-04 22:13:06 [Information] Executed DbCommand ("1"ms) [Parameters=["@__request_TicketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__request_TicketCode_0"
2025-03-04 22:13:06 [Information] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-03-04 22:13:06 [Information] Executed DbCommand ("2"ms) [Parameters=["@__request_BookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__request_BookId_0"
2025-03-04 22:13:06 [Information] Update tiket berhasil: "C002" dengan qty 3
2025-03-04 22:13:06 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-03-04 22:13:06 [Information] Executed action "Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)" in 49.8263ms
2025-03-04 22:13:06 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.UpdateBookedTicket (Acceloka)"'
2025-03-04 22:13:06 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/27""" - 200 null "application/json; charset=utf-8" 59.1047ms
