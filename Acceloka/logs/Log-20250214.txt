2025-02-14 09:17:50 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:17:50 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:17:50 [Information] Hosting environment: "Development"
2025-02-14 09:17:50 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:17:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:17:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 465.7934ms
2025-02-14 09:17:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:17:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:17:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 4.4933ms
2025-02-14 09:17:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 238.1951ms
2025-02-14 09:17:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:17:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 31.5886ms
2025-02-14 09:18:48 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/get-booked-ticket/13""" - "application/json" 8
2025-02-14 09:18:48 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.Put (Acceloka)"'
2025-02-14 09:18:48 [Information] Route matched with "{action = \"Put\", controller = \"BookedTicket\"}". Executing controller action with signature "Void Put(Int32, System.String)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 09:18:48 [Information] Executed action "Acceloka.Controllers.BookedTicketController.Put (Acceloka)" in 5.7251ms
2025-02-14 09:18:48 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.Put (Acceloka)"'
2025-02-14 09:18:48 [Error] Unhandled exception occurred.
System.InvalidOperationException: Unable to resolve service for type 'Acceloka.Services.BookedTicketService' while attempting to activate 'Acceloka.Controllers.BookedTicketController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 24
2025-02-14 09:18:48 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/get-booked-ticket/13""" - 500 null "application/json" 269.324ms
2025-02-14 09:20:25 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:20:25 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:20:25 [Information] Hosting environment: "Development"
2025-02-14 09:20:25 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:20:25 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:20:25 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 156.9633ms
2025-02-14 09:20:25 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:20:25 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.4708ms
2025-02-14 09:20:25 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:20:25 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.8724ms
2025-02-14 09:20:26 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:20:26 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 8.1461ms
2025-02-14 09:21:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/13""" - null null
2025-02-14 09:21:03 [Error] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)
Acceloka.Controllers.BookedTicketController.Get (Acceloka)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-14 09:21:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/13""" - 500 null "text/plain; charset=utf-8" 18.0446ms
2025-02-14 09:22:13 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:22:14 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:22:14 [Information] Hosting environment: "Development"
2025-02-14 09:22:14 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:22:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:22:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 128.7916ms
2025-02-14 09:22:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:22:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 1.8465ms
2025-02-14 09:22:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:22:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 25.8155ms
2025-02-14 09:22:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:22:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.6244ms
2025-02-14 09:22:19 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket""?bookedTicketId=13" - null null
2025-02-14 09:22:19 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:22:19 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 09:22:19 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 09:22:20 [Information] Executed DbCommand ("39"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 09:22:20 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1202.3438ms
2025-02-14 09:22:20 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:22:20 [Error] Unhandled exception occurred.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Acceloka.Entities.BookedTicket, Acceloka.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Acceloka.Models.BookedTicketGetDetailDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
BookedTicket -> BookedTicketGetDetailDto
Acceloka.Entities.BookedTicket -> Acceloka.Models.BookedTicketGetDetailDto
   at lambda_method84(Closure, BookedTicket, BookedTicketGetDetailDto, ResolutionContext)
   at lambda_method83(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method83(Closure, Object, List`1, ResolutionContext)
   at Acceloka.Services.BookedTicketService.<>c__DisplayClass3_0.<GetBookedTicketByIdAsync>b__1(IGrouping`2 group) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 35
   at System.Linq.Enumerable.SelectEnumerableIterator`2.ToList()
   at Acceloka.Services.BookedTicketService.GetBookedTicketByIdAsync(Int32 bookedTicketId) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 33
   at Acceloka.Controllers.BookedTicketController.GetBookedTicket(Int32 bookedTicketId) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 24
2025-02-14 09:22:20 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket""?bookedTicketId=13" - 500 null "application/json" 1316.8468ms
2025-02-14 09:24:33 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:24:33 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:24:33 [Information] Hosting environment: "Development"
2025-02-14 09:24:33 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:24:34 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:24:34 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 131.188ms
2025-02-14 09:24:34 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:24:34 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:24:34 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.2256ms
2025-02-14 09:24:34 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 22.6424ms
2025-02-14 09:24:34 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:24:34 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 8.7581ms
2025-02-14 09:24:48 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:24:48 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:24:48 [Information] Hosting environment: "Development"
2025-02-14 09:24:48 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:24:48 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:24:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 125.8236ms
2025-02-14 09:24:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:24:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:24:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.2361ms
2025-02-14 09:24:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 26.3351ms
2025-02-14 09:24:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:24:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 10.8103ms
2025-02-14 09:24:57 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket""?bookedTicketId=13" - null null
2025-02-14 09:24:57 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:24:57 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 09:24:57 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 09:24:58 [Information] Executed DbCommand ("31"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 09:24:58 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1105.807ms
2025-02-14 09:24:58 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:24:58 [Error] Unhandled exception occurred.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Acceloka.Entities.BookedTicket, Acceloka.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Acceloka.Models.BookedTicketGetDetailDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
BookedTicket -> BookedTicketGetDetailDto
Acceloka.Entities.BookedTicket -> Acceloka.Models.BookedTicketGetDetailDto
   at lambda_method84(Closure, BookedTicket, BookedTicketGetDetailDto, ResolutionContext)
   at lambda_method83(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method83(Closure, Object, List`1, ResolutionContext)
   at Acceloka.Services.BookedTicketService.<>c__DisplayClass3_0.<GetBookedTicketByIdAsync>b__1(IGrouping`2 group) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 35
   at System.Linq.Enumerable.SelectEnumerableIterator`2.ToList()
   at Acceloka.Services.BookedTicketService.GetBookedTicketByIdAsync(Int32 bookedTicketId) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 33
   at Acceloka.Controllers.BookedTicketController.GetBookedTicket(Int32 bookedTicketId) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 24
2025-02-14 09:24:58 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket""?bookedTicketId=13" - 500 null "application/json" 1213.7901ms
2025-02-14 09:29:09 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:29:09 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:29:09 [Information] Hosting environment: "Development"
2025-02-14 09:29:09 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:29:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:29:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 117.6103ms
2025-02-14 09:29:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:29:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.2398ms
2025-02-14 09:29:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:29:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 20.9716ms
2025-02-14 09:29:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:29:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.2542ms
2025-02-14 09:29:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket""?bookedTicketId=13" - null null
2025-02-14 09:29:15 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:29:15 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 09:29:15 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 09:29:16 [Information] Executed DbCommand ("30"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 09:29:16 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.BookedTicketGetResponseDto"'.
2025-02-14 09:29:16 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1061.4245ms
2025-02-14 09:29:16 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:29:16 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket""?bookedTicketId=13" - 200 null "application/json; charset=utf-8" 1093.139ms
2025-02-14 09:33:09 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:33:10 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:33:10 [Information] Hosting environment: "Development"
2025-02-14 09:33:10 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:33:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:33:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 118.8011ms
2025-02-14 09:33:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:33:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 6.1793ms
2025-02-14 09:33:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:33:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 24.0767ms
2025-02-14 09:33:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:33:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 9.2963ms
2025-02-14 09:33:16 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/{BookedTicketId}""" - null null
2025-02-14 09:33:16 [Error] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)
Acceloka.Controllers.BookedTicketController.Get (Acceloka)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-14 09:33:16 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/{BookedTicketId}""" - 500 null "text/plain; charset=utf-8" 29.1265ms
2025-02-14 09:33:33 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:33:33 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:33:33 [Information] Hosting environment: "Development"
2025-02-14 09:33:33 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:33:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:33:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 97.2175ms
2025-02-14 09:33:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:33:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:33:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.399ms
2025-02-14 09:33:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 26.8231ms
2025-02-14 09:33:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:33:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 9.5724ms
2025-02-14 09:33:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/{BookedTicketId}""" - null null
2025-02-14 09:33:51 [Error] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)
Acceloka.Controllers.BookedTicketController.Get (Acceloka)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-14 09:33:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/{BookedTicketId}""" - 500 null "text/plain; charset=utf-8" 15.0126ms
2025-02-14 09:37:30 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:37:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:37:30 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:37:30 [Information] Hosting environment: "Development"
2025-02-14 09:37:30 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:37:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 155.9485ms
2025-02-14 09:37:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:37:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.39ms
2025-02-14 09:37:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:37:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 21.4658ms
2025-02-14 09:37:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:37:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.6681ms
2025-02-14 09:37:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/13""" - null null
2025-02-14 09:37:49 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:37:49 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 09:37:49 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 09:37:50 [Information] Executed DbCommand ("41"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 09:37:50 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.BookedTicketGetResponseDto"'.
2025-02-14 09:37:50 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1311.0928ms
2025-02-14 09:37:50 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:37:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/13""" - 200 null "application/json; charset=utf-8" 1351.7299ms
2025-02-14 09:38:10 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:38:10 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:38:10 [Information] Hosting environment: "Development"
2025-02-14 09:38:10 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:38:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:38:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 110.2553ms
2025-02-14 09:38:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:38:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.8216ms
2025-02-14 09:38:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:38:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 21.6396ms
2025-02-14 09:38:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:38:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.4988ms
2025-02-14 09:38:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/13""" - null null
2025-02-14 09:38:14 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:38:14 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 09:38:14 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 09:38:15 [Information] Executed DbCommand ("26"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0"
2025-02-14 09:38:15 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.BookedTicketGetResponseDto"'.
2025-02-14 09:38:15 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 961.2463ms
2025-02-14 09:38:15 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:38:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/13""" - 200 null "application/json; charset=utf-8" 995.6461ms
2025-02-14 09:39:14 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:39:14 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:39:14 [Information] Hosting environment: "Development"
2025-02-14 09:39:14 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:39:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:39:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 114.8059ms
2025-02-14 09:39:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:39:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:39:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.8999ms
2025-02-14 09:39:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 25.4723ms
2025-02-14 09:39:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:39:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.6912ms
2025-02-14 09:39:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/16""" - null null
2025-02-14 09:39:30 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:39:30 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 09:39:30 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 09:39:31 [Information] Executed DbCommand ("30"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 09:39:31 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.BookedTicketGetResponseDto"'.
2025-02-14 09:39:31 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1174.461ms
2025-02-14 09:39:31 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:39:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/16""" - 200 null "application/json; charset=utf-8" 1207.3573ms
2025-02-14 09:40:56 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 09:40:56 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:40:56 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 09:40:56 [Information] Executed DbCommand ("5"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 09:40:56 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 16.2401ms
2025-02-14 09:40:56 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:40:56 [Error] Unhandled exception occurred.
System.Collections.Generic.KeyNotFoundException: BookedTicket with ID 20 not found.
   at Acceloka.Services.BookedTicketService.GetBookedTicketByIdAsync(Int32 bookedTicketId) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 29
   at Acceloka.Controllers.BookedTicketController.GetBookedTicket(Int32 bookedTicketId) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 24
2025-02-14 09:40:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 500 null "application/json" 123.34ms
2025-02-14 09:43:16 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:43:17 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:43:17 [Information] Hosting environment: "Development"
2025-02-14 09:43:17 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:43:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:43:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 116.748ms
2025-02-14 09:43:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:43:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.7819ms
2025-02-14 09:43:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:43:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 27.4491ms
2025-02-14 09:43:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:43:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.9184ms
2025-02-14 09:43:37 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/16""" - null null
2025-02-14 09:43:37 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:43:37 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 09:43:37 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 09:43:38 [Information] Executed DbCommand ("36"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 09:43:38 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.BookedTicketGetResponseDto"'.
2025-02-14 09:43:38 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1173.3782ms
2025-02-14 09:43:38 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:43:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/16""" - 200 null "application/json; charset=utf-8" 1216.6428ms
2025-02-14 09:44:12 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:44:12 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:44:12 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:44:12 [Information] Hosting environment: "Development"
2025-02-14 09:44:12 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:44:13 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 126.2436ms
2025-02-14 09:44:13 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:44:13 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 4.2344ms
2025-02-14 09:44:13 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:44:13 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 24.5592ms
2025-02-14 09:44:13 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:44:13 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.8784ms
2025-02-14 09:45:40 [Information] Now listening on: "http://localhost:5207"
2025-02-14 09:45:40 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 09:45:40 [Information] Hosting environment: "Development"
2025-02-14 09:45:40 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 09:45:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 09:45:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 121.8112ms
2025-02-14 09:45:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 09:45:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 09:45:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.0218ms
2025-02-14 09:45:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 34.2623ms
2025-02-14 09:45:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 09:45:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 10.1348ms
2025-02-14 09:48:35 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 09:48:35 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:48:35 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 09:48:35 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 09:48:36 [Information] Executed DbCommand ("39"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 09:48:36 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1111.3795ms
2025-02-14 09:48:36 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 09:48:36 [Error] Unhandled exception occurred.
System.Collections.Generic.KeyNotFoundException: BookedTicket with ID 20 not found.
   at Acceloka.Services.BookedTicketService.GetBookedTicketByIdAsync(Int32 bookedTicketId) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 29
   at Acceloka.Controllers.BookedTicketController.GetBookedTicket(Int32 bookedTicketId) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 24
2025-02-14 09:48:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 500 null "application/json" 1220.3483ms
2025-02-14 10:41:24 [Information] Now listening on: "http://localhost:5207"
2025-02-14 10:41:24 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 10:41:24 [Information] Hosting environment: "Development"
2025-02-14 10:41:24 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 10:41:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 10:41:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 139.657ms
2025-02-14 10:41:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 10:41:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.2102ms
2025-02-14 10:41:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 10:41:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 61.5538ms
2025-02-14 10:41:25 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 10:41:25 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 11.093ms
2025-02-14 10:41:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 10:41:30 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 10:41:30 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 10:41:30 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 10:41:31 [Information] Executed DbCommand ("42"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 10:41:31 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1223.8471ms
2025-02-14 10:41:31 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 10:41:31 [Error] Exception occurred: "BookedTicket with ID 20 not found."
System.Collections.Generic.KeyNotFoundException: BookedTicket with ID 20 not found.
   at Acceloka.Services.BookedTicketService.GetBookedTicketByIdAsync(Int32 bookedTicketId) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 33
   at Acceloka.Controllers.BookedTicketController.GetBookedTicket(Int32 bookedTicketId) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 10:41:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 404 null "application/problem+json" 1346.0796ms
2025-02-14 10:41:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/16""" - null null
2025-02-14 10:41:38 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 10:41:38 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 10:41:38 [Information] Executed DbCommand ("5"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 10:41:38 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 10:41:38 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 117.0191ms
2025-02-14 10:41:38 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 10:41:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/16""" - 200 null "application/json; charset=utf-8" 119.7759ms
2025-02-14 12:51:45 [Information] Now listening on: "http://localhost:5207"
2025-02-14 12:51:45 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 12:51:45 [Information] Hosting environment: "Development"
2025-02-14 12:51:45 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 12:51:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 12:51:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 250.5367ms
2025-02-14 12:51:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 12:51:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 12:51:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.8995ms
2025-02-14 12:51:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 38.8339ms
2025-02-14 12:51:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 12:51:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 10.3781ms
2025-02-14 12:51:58 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/16""" - null null
2025-02-14 12:51:58 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 12:51:58 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 12:51:58 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 12:52:00 [Information] Executed DbCommand ("61"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 12:52:00 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 12:52:00 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1818.4115ms
2025-02-14 12:52:00 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 12:52:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/16""" - 200 null "application/json; charset=utf-8" 1875.6534ms
2025-02-14 12:52:10 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/16/TD001/1""" - null null
2025-02-14 12:52:10 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 12:52:10 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 12:52:10 [Information] Executed DbCommand ("11"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode]
FROM [BookedTicket] AS [b]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 12:52:10 [Information] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__p_0"
2025-02-14 12:52:10 [Information] Executed DbCommand ("2"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode]
FROM [BookedTicket] AS [b]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 12:52:10 [Information] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Int32), @p2='?' (Size = 20) (DbType = AnsiString), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BookedTicket]
OUTPUT 1
WHERE [BookedTicketId] = @p0;
UPDATE [Ticket] SET [Quota] = @p1
OUTPUT 1
WHERE [TicketCode] = @p2;"
2025-02-14 12:52:10 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 12:52:10 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketDeleteDto"'.
2025-02-14 12:52:10 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 241.7097ms
2025-02-14 12:52:10 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 12:52:10 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/16/TD001/1""" - 200 null "application/json; charset=utf-8" 251.56ms
2025-02-14 12:53:12 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/16/TD003/3""" - null null
2025-02-14 12:53:12 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 12:53:12 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 12:53:12 [Information] Executed DbCommand ("7"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode]
FROM [BookedTicket] AS [b]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 12:53:12 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 86.3342ms
2025-02-14 12:53:12 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 12:53:12 [Error] Exception occurred: "Jumlah revoke lebih besar dari jumlah tiket yang dibooking."
System.ArgumentException: Jumlah revoke lebih besar dari jumlah tiket yang dibooking.
   at Acceloka.Services.BookedTicketService.RevokeTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 64
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 12:53:13 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/16/TD003/3""" - 400 null "application/problem+json" 305.6951ms
2025-02-14 12:53:43 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/16/TD003/1""" - null null
2025-02-14 12:53:43 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 12:53:43 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 12:53:43 [Information] Executed DbCommand ("4"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode]
FROM [BookedTicket] AS [b]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 12:53:43 [Information] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__p_0"
2025-02-14 12:53:43 [Information] Executed DbCommand ("8"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode]
FROM [BookedTicket] AS [b]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 12:53:43 [Information] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Int32), @p2='?' (Size = 20) (DbType = AnsiString), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BookedTicket]
OUTPUT 1
WHERE [BookedTicketId] = @p0;
UPDATE [Ticket] SET [Quota] = @p1
OUTPUT 1
WHERE [TicketCode] = @p2;"
2025-02-14 12:53:44 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 12:53:44 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketDeleteDto"'.
2025-02-14 12:53:44 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 32.1746ms
2025-02-14 12:53:44 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 12:53:44 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/16/TD003/1""" - 200 null "application/json; charset=utf-8" 38.1206ms
2025-02-14 12:55:05 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/16""" - null null
2025-02-14 12:55:05 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 12:55:05 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 12:55:05 [Information] Executed DbCommand ("9"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 12:55:05 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 12:55:05 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 45.6611ms
2025-02-14 12:55:05 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 12:55:05 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/16""" - 200 null "application/json; charset=utf-8" 49.5563ms
2025-02-14 12:55:28 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/16/C002/5""" - null null
2025-02-14 12:55:28 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 12:55:28 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 12:55:28 [Information] Executed DbCommand ("9"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode]
FROM [BookedTicket] AS [b]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 12:55:28 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 73.0931ms
2025-02-14 12:55:28 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 12:55:28 [Error] Exception occurred: "Jumlah revoke lebih besar dari jumlah tiket yang dibooking."
System.ArgumentException: Jumlah revoke lebih besar dari jumlah tiket yang dibooking.
   at Acceloka.Services.BookedTicketService.RevokeTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 64
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 12:55:28 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/16/C002/5""" - 400 null "application/problem+json" 116.7093ms
2025-02-14 13:01:10 [Information] Now listening on: "http://localhost:5207"
2025-02-14 13:01:10 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 13:01:10 [Information] Hosting environment: "Development"
2025-02-14 13:01:10 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 13:01:11 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 13:01:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 271.9324ms
2025-02-14 13:01:11 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 13:01:11 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 13:01:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 4.5417ms
2025-02-14 13:01:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 58.873ms
2025-02-14 13:01:11 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 13:01:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 11.7387ms
2025-02-14 13:02:43 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 165
2025-02-14 13:02:43 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-14 13:02:43 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-14 13:02:43 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:02:43 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-02-14 13:02:43 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 151.829ms
2025-02-14 13:02:43 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-14 13:02:43 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 400 null "application/problem+json; charset=utf-8" 200.9862ms
2025-02-14 13:02:55 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 164
2025-02-14 13:02:55 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-14 13:02:55 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-14 13:02:55 [Information] Request Booking: [BookedTicketDto { TicketCode: "TL002", Quantity: 2 }, BookedTicketDto { TicketCode: "TL003", Quantity: 1 }, BookedTicketDto { TicketCode: "TD001", Quantity: 2 }]
2025-02-14 13:02:56 [Information] Executed DbCommand ("50"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-14 13:02:56 [Information] Mengurangi quota tiket: "TL002", Jumlah: 2, Sisa sebelum dikurangi: 60
2025-02-14 13:02:56 [Information] Mengurangi quota tiket: "TL003", Jumlah: 1, Sisa sebelum dikurangi: 30
2025-02-14 13:02:56 [Information] Mengurangi quota tiket: "TD001", Jumlah: 2, Sisa sebelum dikurangi: 80
2025-02-14 13:02:57 [Information] Executed DbCommand ("7"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;
UPDATE [Ticket] SET [Quota] = @p4
OUTPUT 1
WHERE [TicketCode] = @p5;"
2025-02-14 13:02:57 [Information] Executed DbCommand ("12"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-14 13:02:57 [Information] Executed DbCommand ("17"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [BookedTicket] USING (
VALUES (@p3, @p4, @p5, 0),
(@p6, @p7, @p8, 1),
(@p9, @p10, @p11, 2)) AS i ([BookId], [Quantity], [TicketCode], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookId], [Quantity], [TicketCode])
VALUES (i.[BookId], i.[Quantity], i.[TicketCode])
OUTPUT INSERTED.[BookedTicketId], i._Position;"
2025-02-14 13:02:57 [Information] Booking berhasil dengan ID 20 dan Total Price 310000000.00
2025-02-14 13:02:57 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketResponseDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-14 13:02:57 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1439.2924ms
2025-02-14 13:02:57 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-14 13:02:57 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 1447.2881ms
2025-02-14 13:03:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 13:03:15 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 13:03:15 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 13:03:15 [Information] Executed DbCommand ("4"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 13:03:15 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 13:03:15 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 158.0114ms
2025-02-14 13:03:15 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 13:03:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 164.4844ms
2025-02-14 13:25:30 [Information] Now listening on: "http://localhost:5207"
2025-02-14 13:25:30 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 13:25:30 [Information] Hosting environment: "Development"
2025-02-14 13:25:30 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 13:25:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 13:25:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 276.8343ms
2025-02-14 13:25:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 13:25:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 13:25:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.8721ms
2025-02-14 13:25:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 35.7674ms
2025-02-14 13:25:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 13:25:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 12.9891ms
2025-02-14 13:25:39 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 13:25:39 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 13:25:39 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 13:25:39 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:25:40 [Information] Executed DbCommand ("59"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 13:25:41 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 13:25:41 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1843.4744ms
2025-02-14 13:25:41 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 13:25:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 1898.8616ms
2025-02-14 13:26:08 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TL002/1""" - null null
2025-02-14 13:26:08 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 13:26:08 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 13:26:08 [Information] Executed DbCommand ("6"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode]
FROM [BookedTicket] AS [b]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 13:26:08 [Information] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__p_0"
2025-02-14 13:26:08 [Information] Executed DbCommand ("1"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode]
FROM [BookedTicket] AS [b]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 13:26:08 [Information] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 13:26:08 [Information] Executed DbCommand ("2"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 13:26:08 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto"'.
2025-02-14 13:26:08 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 205.1796ms
2025-02-14 13:26:08 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 13:26:08 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TL002/1""" - 200 null "application/json; charset=utf-8" 215.2198ms
2025-02-14 13:44:51 [Information] Now listening on: "http://localhost:5207"
2025-02-14 13:44:51 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 13:44:51 [Information] Hosting environment: "Development"
2025-02-14 13:44:51 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 13:44:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 13:44:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 251.0767ms
2025-02-14 13:44:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 13:44:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 13:44:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 5.4673ms
2025-02-14 13:44:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 40.3337ms
2025-02-14 13:44:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 13:44:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 8.6255ms
2025-02-14 13:44:57 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 13:44:57 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 13:44:57 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 13:44:57 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:44:59 [Information] Executed DbCommand ("45"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 13:44:59 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 13:44:59 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1804.1391ms
2025-02-14 13:44:59 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 13:44:59 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 1864.6409ms
2025-02-14 13:45:21 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/20/TL002/3""" - null 0
2025-02-14 13:45:21 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)"'
2025-02-14 13:45:21 [Information] Route matched with "{action = \"UpdateTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 13:45:21 [Information] Executed DbCommand ("11"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 13:45:21 [Information] Executed DbCommand ("2"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-02-14 13:45:21 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 13:45:21 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 13:45:21 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto"'.
2025-02-14 13:45:21 [Information] Executed action "Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)" in 178.0605ms
2025-02-14 13:45:21 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)"'
2025-02-14 13:45:21 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/20/TL002/3""" - 200 null "application/json; charset=utf-8" 186.6146ms
2025-02-14 13:48:07 [Information] Now listening on: "http://localhost:5207"
2025-02-14 13:48:07 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 13:48:07 [Information] Hosting environment: "Development"
2025-02-14 13:48:07 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 13:48:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 13:48:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 129.633ms
2025-02-14 13:48:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 13:48:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.5265ms
2025-02-14 13:48:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 13:48:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 23.7661ms
2025-02-14 13:48:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 13:48:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.9471ms
2025-02-14 13:48:26 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TL002/1""" - null null
2025-02-14 13:48:26 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 13:48:26 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 13:48:26 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:48:27 [Information] Executed DbCommand ("32"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode]
FROM [BookedTicket] AS [b]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 13:48:27 [Information] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__p_0"
2025-02-14 13:48:27 [Information] Executed DbCommand ("2"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode]
FROM [BookedTicket] AS [b]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 13:48:27 [Information] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 13:48:27 [Information] Executed DbCommand ("7"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 13:48:27 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto"'.
2025-02-14 13:48:27 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 1304.9254ms
2025-02-14 13:48:27 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 13:48:27 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TL002/1""" - 200 null "application/json; charset=utf-8" 1340.2488ms
2025-02-14 14:40:49 [Information] Now listening on: "http://localhost:5207"
2025-02-14 14:40:49 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 14:40:49 [Information] Hosting environment: "Development"
2025-02-14 14:40:49 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 14:40:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 14:40:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 260.7563ms
2025-02-14 14:40:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 14:40:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 14:40:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 3.6797ms
2025-02-14 14:40:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 35.032ms
2025-02-14 14:40:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 14:40:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 11.3399ms
2025-02-14 14:40:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 14:40:54 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 14:40:54 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:40:55 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 14:40:56 [Information] Executed DbCommand ("54"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 14:40:56 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 14:40:56 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1819.7511ms
2025-02-14 14:40:56 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 14:40:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 1881.2579ms
2025-02-14 14:41:27 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-14 14:41:27 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-14 14:41:27 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-14 14:41:27 [Information] Request Booking: [BookedTicketDto { TicketCode: "H002", Quantity: 2 }]
2025-02-14 14:41:27 [Information] Executed DbCommand ("10"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-14 14:41:27 [Information] Mengurangi quota tiket: "H002", Jumlah: 2, Sisa sebelum dikurangi: 50
2025-02-14 14:41:27 [Information] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-14 14:41:28 [Information] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-14 14:41:28 [Information] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-14 14:41:28 [Information] Booking berhasil dengan ID 21 dan Total Price 140000000.00
2025-02-14 14:41:28 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketResponseDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-14 14:41:28 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 376.3555ms
2025-02-14 14:41:28 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-14 14:41:28 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 387.2291ms
2025-02-14 14:42:04 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TL002/1""" - null null
2025-02-14 14:42:04 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 14:42:04 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:42:04 [Information] Executed DbCommand ("8"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 14:42:04 [Information] Executed DbCommand ("1"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-02-14 14:42:04 [Information] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 14:42:04 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 14:42:04 [Information] Revoke ticket berhasil: "TL002" dengan qty 1
2025-02-14 14:42:04 [Error] An error occurred using a transaction.
2025-02-14 14:42:04 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 188.0184ms
2025-02-14 14:42:04 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 14:42:04 [Error] Exception occurred: "This SqlTransaction has completed; it is no longer usable."
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 120
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 14:42:04 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TL002/1""" - 500 null "application/problem+json" 438.7938ms
2025-02-14 14:43:01 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/20""" - "application/json" 56
2025-02-14 14:43:01 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)"'
2025-02-14 14:43:01 [Information] Route matched with "{action = \"UpdateTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTicket(Int32, System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketUpdateRequestDto])" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:43:01 [Information] Executed DbCommand ("16"ms) [Parameters=["@__8__locals1_bookId_0='?' (DbType = Int32), @__ticketCodes_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t0].[TicketCode], [t0].[Category], [t0].[EventDate], [t0].[Quota], [t0].[TicketName], [t0].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t0] ON [b].[TicketCode] = [t0].[TicketCode]
WHERE [b].[BookId] = @__8__locals1_bookId_0 AND [b].[TicketCode] IN (
    SELECT [t].[value]
    FROM OPENJSON(@__ticketCodes_1) WITH ([value] varchar(20) '$') AS [t]
)"
2025-02-14 14:43:01 [Information] Executed DbCommand ("4"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-14 14:43:01 [Information] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 14:43:01 [Information] Update ticket berhasil untuk BookId 20
2025-02-14 14:43:01 [Error] An error occurred using a transaction.
2025-02-14 14:43:01 [Information] Executed action "Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)" in 129.5645ms
2025-02-14 14:43:01 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)"'
2025-02-14 14:43:01 [Error] Exception occurred: "This SqlTransaction has completed; it is no longer usable."
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookedTicketService.UpdateBookedTicketAsync(Int32 bookId, List`1 updatedTickets) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 188
   at Acceloka.Controllers.BookedTicketController.UpdateTicket(Int32 bookId, List`1 updatedTickets) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 14:43:01 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/20""" - 500 null "application/problem+json" 215.3055ms
2025-02-14 14:45:45 [Information] Now listening on: "http://localhost:5207"
2025-02-14 14:45:45 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 14:45:45 [Information] Hosting environment: "Development"
2025-02-14 14:45:45 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 14:45:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 14:45:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 137.6129ms
2025-02-14 14:45:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 14:45:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 9.4577ms
2025-02-14 14:45:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 14:45:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 32.3423ms
2025-02-14 14:45:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 14:45:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.0571ms
2025-02-14 14:46:08 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - "application/json" 55
2025-02-14 14:46:08 [Information] Executing endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-14 14:46:08 [Information] Route matched with "{action = \"CreateBooking\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketDto])" on controller "Acceloka.Controllers.BookController" ("Acceloka").
2025-02-14 14:46:08 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 14:46:08 [Information] Request Booking: [BookedTicketDto { TicketCode: "H001", Quantity: 2 }]
2025-02-14 14:46:10 [Information] Executed DbCommand ("32"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-14 14:46:10 [Information] Mengurangi quota tiket: "H001", Jumlah: 2, Sisa sebelum dikurangi: 74
2025-02-14 14:46:10 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (Size = 20) (DbType = AnsiString), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ticket] SET [Quota] = @p0
OUTPUT 1
WHERE [TicketCode] = @p1;"
2025-02-14 14:46:10 [Information] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTimeOffset), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Book] ([BookingDate], [TotalPrice], [TotalQuantity])
OUTPUT INSERTED.[BookId]
VALUES (@p0, @p1, @p2);"
2025-02-14 14:46:10 [Information] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTicket] ([BookId], [Quantity], [TicketCode])
OUTPUT INSERTED.[BookedTicketId]
VALUES (@p3, @p4, @p5);"
2025-02-14 14:46:10 [Information] Booking berhasil dengan ID 22 dan Total Price 100000000.00
2025-02-14 14:46:10 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketResponseDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-14 14:46:10 [Information] Executed action "Acceloka.Controllers.BookController.CreateBooking (Acceloka)" in 1407.0601ms
2025-02-14 14:46:10 [Information] Executed endpoint '"Acceloka.Controllers.BookController.CreateBooking (Acceloka)"'
2025-02-14 14:46:10 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5207""""/api/v1/book-ticket""" - 200 null "application/json; charset=utf-8" 1449.1819ms
2025-02-14 14:46:22 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 14:46:22 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 14:46:22 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:46:22 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 14:46:22 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 14:46:22 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 133.2118ms
2025-02-14 14:46:22 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 14:46:22 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 140.3123ms
2025-02-14 14:46:43 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/2""" - null null
2025-02-14 14:46:43 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 14:46:43 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:46:44 [Information] Executed DbCommand ("7"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 14:46:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-02-14 14:46:44 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 14:46:44 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 14:46:44 [Information] Revoke ticket berhasil: "TD001" dengan qty 2
2025-02-14 14:46:44 [Error] An error occurred using a transaction.
2025-02-14 14:46:44 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 67.2311ms
2025-02-14 14:46:44 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 14:46:44 [Error] Exception occurred: "This SqlTransaction has completed; it is no longer usable."
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 120
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 123
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 14:46:44 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/2""" - 500 null "application/problem+json" 150.1449ms
2025-02-14 14:47:36 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - null null
2025-02-14 14:47:36 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 14:47:36 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:47:36 [Information] Executed DbCommand ("10"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 14:47:36 [Information] Executed DbCommand ("2"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-02-14 14:47:36 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 14:47:36 [Information] Executed DbCommand ("2"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 14:47:36 [Information] Revoke ticket berhasil: "TD001" dengan qty 1
2025-02-14 14:47:36 [Error] An error occurred using a transaction.
2025-02-14 14:47:36 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 35.5374ms
2025-02-14 14:47:36 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 14:47:36 [Error] Exception occurred: "This SqlTransaction has completed; it is no longer usable."
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 120
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 123
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 14:47:36 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - 500 null "application/problem+json" 38.5356ms
2025-02-14 14:47:59 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/20""" - "application/json" 56
2025-02-14 14:47:59 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)"'
2025-02-14 14:47:59 [Information] Route matched with "{action = \"UpdateTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTicket(Int32, System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketUpdateRequestDto])" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:47:59 [Information] Executed DbCommand ("19"ms) [Parameters=["@__8__locals1_bookId_0='?' (DbType = Int32), @__ticketCodes_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t0].[TicketCode], [t0].[Category], [t0].[EventDate], [t0].[Quota], [t0].[TicketName], [t0].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t0] ON [b].[TicketCode] = [t0].[TicketCode]
WHERE [b].[BookId] = @__8__locals1_bookId_0 AND [b].[TicketCode] IN (
    SELECT [t].[value]
    FROM OPENJSON(@__ticketCodes_1) WITH ([value] varchar(20) '$') AS [t]
)"
2025-02-14 14:47:59 [Information] Executed DbCommand ("3"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-14 14:47:59 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 14:47:59 [Information] Update ticket berhasil untuk BookId 20
2025-02-14 14:47:59 [Error] An error occurred using a transaction.
2025-02-14 14:47:59 [Information] Executed action "Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)" in 44.601ms
2025-02-14 14:47:59 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)"'
2025-02-14 14:47:59 [Error] Exception occurred: "This SqlTransaction has completed; it is no longer usable."
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookedTicketService.UpdateBookedTicketAsync(Int32 bookId, List`1 updatedTickets) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 188
   at Acceloka.Services.BookedTicketService.UpdateBookedTicketAsync(Int32 bookId, List`1 updatedTickets) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 191
   at Acceloka.Controllers.BookedTicketController.UpdateTicket(Int32 bookId, List`1 updatedTickets) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 14:47:59 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/20""" - 500 null "application/problem+json" 48.96ms
2025-02-14 14:55:02 [Information] Now listening on: "http://localhost:5207"
2025-02-14 14:55:03 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 14:55:03 [Information] Hosting environment: "Development"
2025-02-14 14:55:03 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 14:55:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 14:55:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 107.2968ms
2025-02-14 14:55:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 14:55:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 14:55:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.3006ms
2025-02-14 14:55:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 20.1482ms
2025-02-14 14:55:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 14:55:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 8.5264ms
2025-02-14 14:55:19 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 14:55:19 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 14:55:19 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:55:19 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 14:55:20 [Information] Executed DbCommand ("34"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 14:55:20 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 14:55:20 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1156.1414ms
2025-02-14 14:55:20 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 14:55:20 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 1194.3227ms
2025-02-14 14:55:27 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - null null
2025-02-14 14:55:27 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 14:55:27 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:55:27 [Information] Executed DbCommand ("13"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 14:55:27 [Information] Executed DbCommand ("1"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-02-14 14:55:27 [Information] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 14:55:27 [Information] Executed DbCommand ("2"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 14:55:27 [Information] Revoke ticket berhasil: "TD001" dengan qty 1
2025-02-14 14:55:27 [Error] An error occurred using a transaction.
2025-02-14 14:55:27 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 155.1376ms
2025-02-14 14:55:27 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 14:55:27 [Error] Exception occurred: "This SqlTransaction has completed; it is no longer usable."
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 120
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 123
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 14:55:27 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - 500 null "application/problem+json" 232.37ms
2025-02-14 14:57:49 [Information] Now listening on: "http://localhost:5207"
2025-02-14 14:57:49 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 14:57:49 [Information] Hosting environment: "Development"
2025-02-14 14:57:49 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 14:57:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 14:57:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 115.007ms
2025-02-14 14:57:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 14:57:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 14:57:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 1.7341ms
2025-02-14 14:57:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 25.6327ms
2025-02-14 14:57:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 14:57:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.6228ms
2025-02-14 14:58:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 14:58:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 3.3381ms
2025-02-14 14:58:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 14:58:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.5466ms
2025-02-14 14:58:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 14:58:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 8.1549ms
2025-02-14 14:58:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 14:58:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 3.3507ms
2025-02-14 14:58:18 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 14:58:18 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 2.0639ms
2025-02-14 14:58:18 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 14:58:18 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.4137ms
2025-02-14 14:58:18 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 14:58:18 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 4.6364ms
2025-02-14 14:58:18 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 14:58:18 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 5.0918ms
2025-02-14 14:58:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 14:58:27 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1.6089ms
2025-02-14 14:58:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 14:58:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 14:58:27 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 0.3551ms
2025-02-14 14:58:27 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 3.6236ms
2025-02-14 14:58:28 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 14:58:28 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 2.9511ms
2025-02-14 14:58:37 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 14:58:37 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 14:58:37 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:58:37 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 14:58:38 [Information] Executed DbCommand ("36"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 14:58:38 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 14:58:38 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1258.6457ms
2025-02-14 14:58:38 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 14:58:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 1298.9801ms
2025-02-14 14:58:46 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - null null
2025-02-14 14:58:46 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 14:58:46 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 14:58:46 [Information] Executed DbCommand ("9"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 14:58:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-02-14 14:58:46 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 14:58:46 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 14:58:46 [Information] Transaksi berhasil, data siap dikembalikan untuk BookId 20
2025-02-14 14:58:46 [Error] An error occurred using a transaction.
2025-02-14 14:58:46 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 163.5649ms
2025-02-14 14:58:46 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 14:58:46 [Error] Exception occurred: "This SqlTransaction has completed; it is no longer usable."
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 120
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 123
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 14:58:47 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - 500 null "application/problem+json" 240.2615ms
2025-02-14 15:00:30 [Information] Now listening on: "http://localhost:5207"
2025-02-14 15:00:31 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 15:00:31 [Information] Hosting environment: "Development"
2025-02-14 15:00:31 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 15:00:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 15:00:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 117.8183ms
2025-02-14 15:00:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 15:00:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 15:00:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 1.7376ms
2025-02-14 15:00:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 23.961ms
2025-02-14 15:00:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 15:00:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.4995ms
2025-02-14 15:00:47 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/20""" - "application/json" 56
2025-02-14 15:00:47 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)"'
2025-02-14 15:00:47 [Information] Route matched with "{action = \"UpdateTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTicket(Int32, System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketUpdateRequestDto])" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 15:00:47 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 15:00:49 [Information] Executed DbCommand ("44"ms) [Parameters=["@__8__locals1_bookId_0='?' (DbType = Int32), @__ticketCodes_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t0].[TicketCode], [t0].[Category], [t0].[EventDate], [t0].[Quota], [t0].[TicketName], [t0].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t0] ON [b].[TicketCode] = [t0].[TicketCode]
WHERE [b].[BookId] = @__8__locals1_bookId_0 AND [b].[TicketCode] IN (
    SELECT [t].[value]
    FROM OPENJSON(@__ticketCodes_1) WITH ([value] varchar(20) '$') AS [t]
)"
2025-02-14 15:00:49 [Information] Executed DbCommand ("5"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-14 15:00:49 [Information] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 15:00:49 [Information] Update ticket berhasil untuk BookId 20
2025-02-14 15:00:49 [Error] An error occurred using a transaction.
2025-02-14 15:00:49 [Information] Executed action "Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)" in 1483.6856ms
2025-02-14 15:00:49 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)"'
2025-02-14 15:00:49 [Error] Exception occurred: "This SqlTransaction has completed; it is no longer usable."
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookedTicketService.UpdateBookedTicketAsync(Int32 bookId, List`1 updatedTickets) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 201
   at Acceloka.Services.BookedTicketService.UpdateBookedTicketAsync(Int32 bookId, List`1 updatedTickets) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 204
   at Acceloka.Controllers.BookedTicketController.UpdateTicket(Int32 bookId, List`1 updatedTickets) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 15:00:49 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/20""" - 500 null "application/problem+json" 1613.8585ms
2025-02-14 15:00:55 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 15:00:55 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 15:00:55 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 15:00:55 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 15:00:55 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 15:00:55 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 36.9404ms
2025-02-14 15:00:55 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 15:00:55 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 43.5505ms
2025-02-14 15:01:07 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - null null
2025-02-14 15:01:07 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 15:01:07 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 15:01:07 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 15:01:07 [Information] Executed DbCommand ("2"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-02-14 15:01:07 [Information] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 15:01:07 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 15:01:07 [Information] Transaksi berhasil, data siap dikembalikan untuk BookId 20
2025-02-14 15:01:07 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-14 15:01:07 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 56.0896ms
2025-02-14 15:01:07 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 15:01:07 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - 200 null "application/json; charset=utf-8" 60.3962ms
2025-02-14 15:11:54 [Information] Now listening on: "http://localhost:5207"
2025-02-14 15:11:54 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 15:11:54 [Information] Hosting environment: "Development"
2025-02-14 15:11:54 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 15:11:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 15:11:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 145.0955ms
2025-02-14 15:11:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 15:11:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.3079ms
2025-02-14 15:11:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 15:11:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 25.045ms
2025-02-14 15:11:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 15:11:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 9.8813ms
2025-02-14 15:12:01 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 15:12:01 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 15:12:01 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 15:12:01 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 15:12:02 [Information] Executed DbCommand ("32"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 15:12:02 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 15:12:02 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1351.5249ms
2025-02-14 15:12:02 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 15:12:02 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 1388.7866ms
2025-02-14 15:12:11 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/2""" - null null
2025-02-14 15:12:11 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 15:12:11 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 15:12:11 [Information] Executed DbCommand ("4"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 15:12:11 [Information] Executed DbCommand ("1"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-02-14 15:12:12 [Information] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 15:12:12 [Information] Executed DbCommand ("2"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 15:12:12 [Information] Transaksi berhasil, data siap dikembalikan untuk BookId 20
2025-02-14 15:12:12 [Error] An error occurred using a transaction.
2025-02-14 15:12:12 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 155.6118ms
2025-02-14 15:12:12 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 15:12:12 [Error] Exception occurred: "This SqlTransaction has completed; it is no longer usable."
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 116
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 119
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 15:12:12 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/2""" - 500 null "application/problem+json" 236.773ms
2025-02-14 15:12:43 [Information] Now listening on: "http://localhost:5207"
2025-02-14 15:12:43 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 15:12:43 [Information] Hosting environment: "Development"
2025-02-14 15:12:43 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 15:12:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 15:12:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 133.1624ms
2025-02-14 15:12:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 15:12:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 15:12:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.341ms
2025-02-14 15:12:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 21.9921ms
2025-02-14 15:12:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 15:12:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 7.5679ms
2025-02-14 15:12:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 15:12:52 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 15:12:52 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 15:12:52 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 15:12:53 [Information] Executed DbCommand ("38"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 15:12:53 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 15:12:53 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1172.4709ms
2025-02-14 15:12:53 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 15:12:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 1208.489ms
2025-02-14 15:13:05 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - null null
2025-02-14 15:13:05 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 15:13:05 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 15:13:05 [Information] Executed DbCommand ("4"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 15:13:05 [Information] Executed DbCommand ("1"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-02-14 15:13:05 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 15:13:05 [Information] Executed DbCommand ("2"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 15:13:05 [Information] Revoke ticket berhasil: "TD001" dengan qty 1
2025-02-14 15:13:05 [Error] An error occurred using a transaction.
2025-02-14 15:13:05 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 149.0955ms
2025-02-14 15:13:05 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 15:13:05 [Error] Exception occurred: "This SqlTransaction has completed; it is no longer usable."
System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.
   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()
   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()
   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 117
   at Acceloka.Services.BookedTicketService.RevokeBookedTicketAsync(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Services\BookedTicketService.cs:line 120
   at Acceloka.Controllers.BookedTicketController.RevokeTicket(Int32 bookId, String ticketCode, Int32 qty) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Controllers\BookedTicketController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionHandlerMiddleware.Invoke(HttpContext context) in C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 21
2025-02-14 15:13:05 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/1""" - 500 null "application/problem+json" 225.233ms
2025-02-14 15:23:36 [Information] Now listening on: "http://localhost:5207"
2025-02-14 15:23:36 [Information] Application started. Press Ctrl+C to shut down.
2025-02-14 15:23:36 [Information] Hosting environment: "Development"
2025-02-14 15:23:36 [Information] Content root path: "C:\Users\ZAKI\Documents\BINUS\Accelist\Training\Training Exam Project\Acceloka\Acceloka"
2025-02-14 15:23:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - null null
2025-02-14 15:23:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 130.3784ms
2025-02-14 15:23:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-02-14 15:23:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - null null
2025-02-14 15:23:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_framework/aspnetcore-browser-refresh.js""" - 200 13752 "application/javascript; charset=utf-8" 2.2339ms
2025-02-14 15:23:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 20.2687ms
2025-02-14 15:23:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - null null
2025-02-14 15:23:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 6.6016ms
2025-02-14 15:23:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - null null
2025-02-14 15:23:46 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 15:23:46 [Information] Route matched with "{action = \"GetBookedTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 15:23:46 [Warning] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 15:23:47 [Information] Executed DbCommand ("33"ms) [Parameters=["@__bookedTicketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookedTicketId_0"
2025-02-14 15:23:48 [Information] Executing "OkObjectResult", writing value of type '"Acceloka.Models.DTOS.BookedTicketGetResponseDto"'.
2025-02-14 15:23:48 [Information] Executed action "Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)" in 1198.9142ms
2025-02-14 15:23:48 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.GetBookedTicket (Acceloka)"'
2025-02-14 15:23:48 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5207""""/api/v1/get-booked-ticket/20""" - 200 null "application/json; charset=utf-8" 1236.6799ms
2025-02-14 15:24:01 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/20""" - "application/json" 56
2025-02-14 15:24:01 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)"'
2025-02-14 15:24:01 [Information] Route matched with "{action = \"UpdateTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTicket(Int32, System.Collections.Generic.List`1[Acceloka.Models.DTOS.BookedTicketUpdateRequestDto])" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 15:24:02 [Information] Executed DbCommand ("8"ms) [Parameters=["@__8__locals1_bookId_0='?' (DbType = Int32), @__ticketCodes_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t0].[TicketCode], [t0].[Category], [t0].[EventDate], [t0].[Quota], [t0].[TicketName], [t0].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t0] ON [b].[TicketCode] = [t0].[TicketCode]
WHERE [b].[BookId] = @__8__locals1_bookId_0 AND [b].[TicketCode] IN (
    SELECT [t].[value]
    FROM OPENJSON(@__ticketCodes_1) WITH ([value] varchar(20) '$') AS [t]
)"
2025-02-14 15:24:02 [Information] Executed DbCommand ("3"ms) [Parameters=["@__ticketCodes_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] varchar(20) '$') AS [t0]
)"
2025-02-14 15:24:02 [Information] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 15:24:02 [Information] Update ticket berhasil untuk BookId 20
2025-02-14 15:24:02 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-14 15:24:02 [Information] Executed action "Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)" in 206.8318ms
2025-02-14 15:24:02 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.UpdateTicket (Acceloka)"'
2025-02-14 15:24:02 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5207""""/api/v1/update-ticket/20""" - 200 null "application/json; charset=utf-8" 215.2176ms
2025-02-14 15:24:15 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/2""" - null null
2025-02-14 15:24:15 [Information] Executing endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 15:24:15 [Information] Route matched with "{action = \"RevokeTicket\", controller = \"BookedTicket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(Int32, System.String, Int32)" on controller "Acceloka.Controllers.BookedTicketController" ("Acceloka").
2025-02-14 15:24:15 [Information] Executed DbCommand ("3"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__ticketCode_1='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0 AND [b].[TicketCode] = @__ticketCode_1"
2025-02-14 15:24:15 [Information] Executed DbCommand ("2"ms) [Parameters=["@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketCode_0"
2025-02-14 15:24:15 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (Size = 20) (DbType = AnsiString), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookedTicket] SET [Quantity] = @p0
OUTPUT 1
WHERE [BookedTicketId] = @p1;
UPDATE [Ticket] SET [Quota] = @p2
OUTPUT 1
WHERE [TicketCode] = @p3;"
2025-02-14 15:24:15 [Information] Executed DbCommand ("2"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookedTicketId], [b].[BookId], [b].[Quantity], [b].[TicketCode], [t].[TicketCode], [t].[Category], [t].[EventDate], [t].[Quota], [t].[TicketName], [t].[TicketPrice]
FROM [BookedTicket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketCode] = [t].[TicketCode]
WHERE [b].[BookId] = @__bookId_0"
2025-02-14 15:24:15 [Information] Revoke ticket berhasil: "TD001" dengan qty 2
2025-02-14 15:24:15 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Acceloka.Models.DTOS.BookedTicketUpdateDeleteDto, Acceloka, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-02-14 15:24:15 [Information] Executed action "Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)" in 48.6612ms
2025-02-14 15:24:15 [Information] Executed endpoint '"Acceloka.Controllers.BookedTicketController.RevokeTicket (Acceloka)"'
2025-02-14 15:24:15 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5207""""/api/v1/revoke-ticket/20/TD001/2""" - 200 null "application/json; charset=utf-8" 55.5225ms
